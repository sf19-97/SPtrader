<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=3">
<meta httpequiv="x-ua-compatible" content="ie=edge">
<meta property="og:type" content="website">
<meta name="author" content="QuestDB">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@questdb">
<meta name="generator" content="Docusaurus v3.7.0">
<link rel="icon" href="/docs/favicon.ico">
<link rel="icon" href="/docs/favicon.svg" type="image/svg+xml">
<link rel="apple-touch-icon" href="/docs/images/icons/apple-180x180.webp" sizes="180x180">
<meta name="msapplication-config" content="/docs/browserconfig.xml">
<link rel="sitemap" type="application/xml" href="/docs/sitemap.xml">
<link rel="manifest" href="/docs/manifest.webmanifest">
<meta name="theme-color" content="#21222c">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#21222c">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><title data-rh="true">SQL extensions | QuestDB</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:image" content="https://questdb.com/docs/images/og.gif"><meta data-rh="true" property="og:url" content="https://questdb.com/docs/concept/sql-extensions/"><meta data-rh="true" name="twitter:image" content="https://questdb.com/docs/images/og.gif"><meta data-rh="true" name="google-site-verification" content="YltecND1MYGrcsaQnM7LGSYNdsMDyhEplsq5L_xn-pQ"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="SQL extensions | QuestDB"><meta data-rh="true" name="description" content="QuestDB attempts to implement standard ANSI SQL with time-based extensions for convenience. This document describes SQL extensions in QuestDB and how users can benefit from them."><meta data-rh="true" property="og:description" content="QuestDB attempts to implement standard ANSI SQL with time-based extensions for convenience. This document describes SQL extensions in QuestDB and how users can benefit from them."><link data-rh="true" rel="icon" href="/docs/images/favicon.webp"><link data-rh="true" rel="alternate" href="https://questdb.com/docs/concept/sql-extensions/" hreflang="en"><link data-rh="true" rel="alternate" href="https://questdb.com/docs/concept/sql-extensions/" hreflang="x-default"><link data-rh="true" rel="canonical" href="https://questdb.com/docs/concept/sql-extensions/"><link data-rh="true" rel="preconnect" href="https://QL9L2YL7AQ-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/docs/assets/css/styles.3c30cd7e.css">
<script>
        !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getActiveMatchingSurveys getSurveys getNextSurveyStep onSessionId setPersonProperties".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
        posthog.init('phc_GnFGGyhLRvRDKO6iN6eJRAypiKymw9LGf7GlAtZnaKx',{api_host:'https://us.i.posthog.com',
            })
    </script></head>
<body class="navigation-with-keyboard" itemscope itemtype="http://schema.org/Organization">
<meta itemprop="logo" content="https://questdb.com/images/favicon.webp">
<meta itemprop="name" content="QuestDB: the database for time series">
<meta itemprop="description" content="QuestDB is the world's fastest growing open-source time-series database. It offers massive ingestion throughput, millisecond queries, powerful time-series SQL extensions, and scales well with minimal and maximal hardware. Save costs with better performance and efficiency.">
<meta itemprop="url" content="https://questdb.com">
<meta itemprop="sameAs" content="https://x.com/questdb">
<meta itemprop="sameAs" content="https://www.linkedin.com/company/questdb/">
<meta itemprop="sameAs" content="https://www.crunchbase.com/organization/quest-db">
<meta itemprop="sameAs" content="https://github.com/questdb">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<header class="fixed top-0 left-0 right-0 z-[99] bg-white dark:bg-[rgb(33,34,44)] shadow-md"><nav aria-label="Global" class="mx-auto flex max-w-7xl items-center justify-between p-6 lg:px-8 border-b border-gray-300"><div class="flex lg:flex-1"><a class="brand_v2ys" href="/">QuestDB</a></div><div class="flex lg:hidden"><button type="button" class="-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 bg-white text-gray-700 dark:bg-[rgb(38,40,51)] dark:text-gray-300"><span class="sr-only">Open main menu</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-6 w-6"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></button></div><div class="hidden lg:flex lg:gap-x-9 xl:gap-x-12 lg:items-center"><div data-headlessui-state=""><button class="border-none bg-transparent hover:underline flex items-center gap-x-1 font-semibold text-base font-sans leading-6 text-black dark:text-white whitespace-nowrap hover:cursor-pointer focus:outline-none" type="button" aria-expanded="false" data-headlessui-state="">Product<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-5 w-5"><path fill-rule="evenodd" d="M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path></svg></button></div><span hidden="" style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;display:none"></span><a href="/enterprise/" class="font-semibold text-base font-sans leading-6 text-black dark:text-white whitespace-nowrap">Enterprise</a><a href="/customers/" class="font-semibold text-base font-sans leading-6 text-black dark:text-white whitespace-nowrap">Customers</a><a href="/docs/" class="font-semibold text-base font-sans leading-6 text-black dark:text-white whitespace-nowrap">Docs</a><a href="/blog/" class="font-semibold text-base font-sans leading-6 text-black dark:text-white whitespace-nowrap">Blog</a><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a href="https://github.com/questdb/questdb/releases/tag/8.3.3" aria-label="GitHub repository" class="navbar__item navbar__link header-github-link font-semibold font-sans">8.3.3</a><ul class="dropdown__menu"><li><a href="https://github.com/orgs/questdb/projects/1/views/5" class="dropdown__link font-semibold" rel="noreferrer" target="_blank">Roadmap</a></li></ul></div></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><span hidden="" style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;display:none"></span><div class="hidden lg:flex lg:flex-1 lg:justify-end"><a class="ctaButton_wnra getQuestdb_rsAy button_DuX_ button--secondary_XfJL button--uppercase_c_4p button--xsmall_A7IM" href="/enterprise/contact/">CONTACT</a></div><span hidden="" style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;display:none"></span></nav></header><div><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/quick-start/">Quick start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/why-questdb/">Why QuestDB?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/guides/schema-design-essentials/">Schema Design Essentials</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/guides/influxdb-migration/">Migrate from InfluxDB</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/ingestion-overview/">Ingestion Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/reference/sql/overview/">Query &amp; SQL Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/deployment/docker/">Deployment</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/operations/migrate-to-enterprise/">Operations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/guides/create-database/">Guides &amp; Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/concept/deduplication/">Concepts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concept/deduplication/">Data deduplication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concept/designated-timestamp/">Designated timestamp</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concept/geohashes/">Geospatial data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concept/indexes/">Indexes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concept/interval-scan/">Interval scan</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concept/jit-compiler/">JIT compiler</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concept/mat-views/">Materialized views</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concept/partitions/">Partitions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concept/query-tracing/">Query tracing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concept/replication/">Replication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concept/root-directory-structure/">Root directory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/concept/sql-extensions/">SQL extensions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concept/sql-optimizer-hints/">SQL optimizer hints</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concept/storage-model/">Storage model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concept/symbol/">Symbol</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concept/ttl/">Time To Live (TTL)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concept/write-ahead-log/">Write-Ahead Log</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/guides/architecture/questdb-architecture/">Architecture</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/third-party-tools/overview/">Third-party Tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/troubleshooting/faq/">Troubleshooting</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Concepts</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">SQL extensions</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>SQL extensions</h1></header><p>QuestDB attempts to implement standard ANSI SQL. We also try to be compatible
with PostgreSQL, although parts of this are a work in progress. This page
presents the main extensions we bring to SQL and the main differences that one
might find in SQL but not in QuestDB&#x27;s dialect.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sql-extensions">SQL extensions<a href="#sql-extensions" class="hash-link" aria-label="Direct link to SQL extensions" title="Direct link to SQL extensions">​</a></h2>
<p>We have extended SQL to support our data storage model and simplify semantics of
time series analytics.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="latest-on">LATEST ON<a href="#latest-on" class="hash-link" aria-label="Direct link to LATEST ON" title="Direct link to LATEST ON">​</a></h3>
<p><a rel="" href="/docs/reference/sql/latest-on/">LATEST ON</a> is a clause introduced to help find
the latest entry by timestamp for a given key or combination of keys as part of
a <code>SELECT</code> statement.</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockTitle_P25_"><span>LATEST ON customer ID and currency</span></div><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT * FROM balances</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">WHERE balance &gt; 800</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">LATEST ON ts PARTITION BY customer_id, currency;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sample-by">SAMPLE BY<a href="#sample-by" class="hash-link" aria-label="Direct link to SAMPLE BY" title="Direct link to SAMPLE BY">​</a></h3>
<p><a rel="" href="/docs/reference/sql/select/#sample-by">SAMPLE BY</a> is used for time-based
<a rel="" href="/docs/reference/function/aggregation/">aggregations</a> with an efficient syntax.
The short query below will return the simple average balance from a list of
accounts by one month buckets.</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockTitle_P25_"><span>SAMPLE BY one month buckets</span></div><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT avg(balance) FROM accounts SAMPLE BY 1M</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="timestamp-search">Timestamp search<a href="#timestamp-search" class="hash-link" aria-label="Direct link to Timestamp search" title="Direct link to Timestamp search">​</a></h3>
<p>Timestamp search can be performed with regular operators, e.g <code>&gt;</code>, <code>&lt;=</code> etc.
However, QuestDB provides a
<a rel="" href="/docs/reference/sql/where/#timestamp-and-date">native notation</a> which is faster
and less verbose.</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockTitle_P25_"><span>Results in a given year</span></div><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT * FROM scores WHERE ts IN &#x27;2018&#x27;;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="differences-from-standard-sql">Differences from standard SQL<a href="#differences-from-standard-sql" class="hash-link" aria-label="Direct link to Differences from standard SQL" title="Direct link to Differences from standard SQL">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="select--from-is-optional">SELECT * FROM is optional<a href="#select--from-is-optional" class="hash-link" aria-label="Direct link to SELECT * FROM is optional" title="Direct link to SELECT * FROM is optional">​</a></h3>
<p>In QuestDB, using <code>SELECT * FROM</code> is optional, so <code>SELECT * FROM my_table;</code> will
return the same result as <code>my_table;</code>. While adding <code>SELECT * FROM</code> makes SQL
look more complete, there are examples where omitting these keywords makes
queries a lot easier to read.</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockTitle_P25_"><span>Optional use of SELECT * FROM</span></div><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">my_table;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">-- equivalent to:</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT * FROM my_table;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="group-by-is-optional">GROUP BY is optional<a href="#group-by-is-optional" class="hash-link" aria-label="Direct link to GROUP BY is optional" title="Direct link to GROUP BY is optional">​</a></h3>
<p>The <code>GROUP BY</code> clause is optional and can be omitted as the QuestDB optimizer
derives group-by implementation from the <code>SELECT</code> clause. In standard SQL, users
might write a query like the following:</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT a, b, c, d, sum(e) FROM tab GROUP BY a, b, c, d;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>However, enumerating a subset of <code>SELECT</code> columns in the <code>GROUP BY</code> clause is
redundant and therefore unnecessary. The same SQL in QuestDB SQL-dialect can be
written as:</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT a, b, c, d, sum(e) FROM tab;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="implicit-having">Implicit HAVING<a href="#implicit-having" class="hash-link" aria-label="Direct link to Implicit HAVING" title="Direct link to Implicit HAVING">​</a></h3>
<p>Let&#x27;s look at another more complex example using <code>HAVING</code> in standard SQL:</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT a, b, c, d, sum(e)</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">FROM tab</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">GROUP BY a, b, c, d</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">HAVING sum(e) &gt; 100;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In QuestDB&#x27;s dialect, featherweight sub-queries come to the rescue to create a
smaller, more readable query, without unnecessary repetitive aggregations.
<code>HAVING</code> functionality can be obtained implicitly as follows:</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">(SELECT a, b, c, d, sum(e) s FROM tab) WHERE s &gt; 100;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/questdb/documentation/edit/main/documentation/concept/sql-extensions.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/concept/root-directory-structure/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Root directory</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/concept/sql-optimizer-hints/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">SQL optimizer hints</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#sql-extensions" class="table-of-contents__link toc-highlight">SQL extensions</a><ul><li><a href="#latest-on" class="table-of-contents__link toc-highlight">LATEST ON</a></li><li><a href="#sample-by" class="table-of-contents__link toc-highlight">SAMPLE BY</a></li><li><a href="#timestamp-search" class="table-of-contents__link toc-highlight">Timestamp search</a></li></ul></li><li><a href="#differences-from-standard-sql" class="table-of-contents__link toc-highlight">Differences from standard SQL</a><ul><li><a href="#select--from-is-optional" class="table-of-contents__link toc-highlight">SELECT * FROM is optional</a></li><li><a href="#group-by-is-optional" class="table-of-contents__link toc-highlight">GROUP BY is optional</a></li><li><a href="#implicit-having" class="table-of-contents__link toc-highlight">Implicit HAVING</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="root_DvgA"><div class="border_YoPE"><div class="community_bmX2"><p class="communityText_jX3N">Need a hand? Join our vibrant<!-- --> <a href="https://slack.questdb.com/" class="communityLink_V4eJ">public Slack</a> <!-- -->and<!-- --> <a href="https://community.questdb.com" class="communityLink_V4eJ">Discourse forum</a> <!-- -->communities.</p></div><div class="bottom_T_7l"><span>Copyright © 2025 QuestDB</span><div class="rightLinks_p_4C"><a class="link_vSFW" href="/privacy-notice/">Privacy</a><a class="link_vSFW" href="/terms/">Terms</a></div></div></div></footer></div>
<script src="/docs/assets/js/main.8f2b2b8d.js" defer="defer"></script>
<script>"dark"!==localStorage.getItem("theme")&&(window.localStorage.removeItem("theme"),document.documentElement.setAttribute("data-theme","dark"))</script>
</body>
</html>