<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=3">
<meta httpequiv="x-ua-compatible" content="ie=edge">
<meta property="og:type" content="website">
<meta name="author" content="QuestDB">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@questdb">
<meta name="generator" content="Docusaurus v3.7.0">
<link rel="icon" href="/docs/favicon.ico">
<link rel="icon" href="/docs/favicon.svg" type="image/svg+xml">
<link rel="apple-touch-icon" href="/docs/images/icons/apple-180x180.webp" sizes="180x180">
<meta name="msapplication-config" content="/docs/browserconfig.xml">
<link rel="sitemap" type="application/xml" href="/docs/sitemap.xml">
<link rel="manifest" href="/docs/manifest.webmanifest">
<meta name="theme-color" content="#21222c">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#21222c">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><title data-rh="true">SAMPLE BY keyword | QuestDB</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:image" content="https://questdb.com/docs/images/og.gif"><meta data-rh="true" property="og:url" content="https://questdb.com/docs/reference/sql/sample-by/"><meta data-rh="true" name="twitter:image" content="https://questdb.com/docs/images/og.gif"><meta data-rh="true" name="google-site-verification" content="YltecND1MYGrcsaQnM7LGSYNdsMDyhEplsq5L_xn-pQ"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="SAMPLE BY keyword | QuestDB"><meta data-rh="true" name="description" content="SAMPLE BY SQL keyword reference documentation."><meta data-rh="true" property="og:description" content="SAMPLE BY SQL keyword reference documentation."><link data-rh="true" rel="icon" href="/docs/images/favicon.webp"><link data-rh="true" rel="alternate" href="https://questdb.com/docs/reference/sql/sample-by/" hreflang="en"><link data-rh="true" rel="alternate" href="https://questdb.com/docs/reference/sql/sample-by/" hreflang="x-default"><link data-rh="true" rel="canonical" href="https://questdb.com/docs/reference/sql/sample-by/"><link data-rh="true" rel="preconnect" href="https://QL9L2YL7AQ-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/docs/assets/css/styles.3c30cd7e.css">
<script>
        !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getActiveMatchingSurveys getSurveys getNextSurveyStep onSessionId setPersonProperties".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
        posthog.init('phc_GnFGGyhLRvRDKO6iN6eJRAypiKymw9LGf7GlAtZnaKx',{api_host:'https://us.i.posthog.com',
            })
    </script></head>
<body class="navigation-with-keyboard" itemscope itemtype="http://schema.org/Organization">
<meta itemprop="logo" content="https://questdb.com/images/favicon.webp">
<meta itemprop="name" content="QuestDB: the database for time series">
<meta itemprop="description" content="QuestDB is the world's fastest growing open-source time-series database. It offers massive ingestion throughput, millisecond queries, powerful time-series SQL extensions, and scales well with minimal and maximal hardware. Save costs with better performance and efficiency.">
<meta itemprop="url" content="https://questdb.com">
<meta itemprop="sameAs" content="https://x.com/questdb">
<meta itemprop="sameAs" content="https://www.linkedin.com/company/questdb/">
<meta itemprop="sameAs" content="https://www.crunchbase.com/organization/quest-db">
<meta itemprop="sameAs" content="https://github.com/questdb">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<header class="fixed top-0 left-0 right-0 z-[99] bg-white dark:bg-[rgb(33,34,44)] shadow-md"><nav aria-label="Global" class="mx-auto flex max-w-7xl items-center justify-between p-6 lg:px-8 border-b border-gray-300"><div class="flex lg:flex-1"><a class="brand_v2ys" href="/">QuestDB</a></div><div class="flex lg:hidden"><button type="button" class="-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 bg-white text-gray-700 dark:bg-[rgb(38,40,51)] dark:text-gray-300"><span class="sr-only">Open main menu</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="h-6 w-6"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></button></div><div class="hidden lg:flex lg:gap-x-9 xl:gap-x-12 lg:items-center"><div data-headlessui-state=""><button class="border-none bg-transparent hover:underline flex items-center gap-x-1 font-semibold text-base font-sans leading-6 text-black dark:text-white whitespace-nowrap hover:cursor-pointer focus:outline-none" type="button" aria-expanded="false" data-headlessui-state="">Product<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-5 w-5"><path fill-rule="evenodd" d="M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path></svg></button></div><span hidden="" style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;display:none"></span><a href="/enterprise/" class="font-semibold text-base font-sans leading-6 text-black dark:text-white whitespace-nowrap">Enterprise</a><a href="/customers/" class="font-semibold text-base font-sans leading-6 text-black dark:text-white whitespace-nowrap">Customers</a><a href="/docs/" class="font-semibold text-base font-sans leading-6 text-black dark:text-white whitespace-nowrap">Docs</a><a href="/blog/" class="font-semibold text-base font-sans leading-6 text-black dark:text-white whitespace-nowrap">Blog</a><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a href="https://github.com/questdb/questdb/releases/tag/8.3.3" aria-label="GitHub repository" class="navbar__item navbar__link header-github-link font-semibold font-sans">8.3.3</a><ul class="dropdown__menu"><li><a href="https://github.com/orgs/questdb/projects/1/views/5" class="dropdown__link font-semibold" rel="noreferrer" target="_blank">Roadmap</a></li></ul></div></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><span hidden="" style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;display:none"></span><div class="hidden lg:flex lg:flex-1 lg:justify-end"><a class="ctaButton_wnra getQuestdb_rsAy button_DuX_ button--secondary_XfJL button--uppercase_c_4p button--xsmall_A7IM" href="/enterprise/contact/">CONTACT</a></div><span hidden="" style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;display:none"></span></nav></header><div><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/quick-start/">Quick start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/why-questdb/">Why QuestDB?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/guides/schema-design-essentials/">Schema Design Essentials</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/guides/influxdb-migration/">Migrate from InfluxDB</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/ingestion-overview/">Ingestion Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/reference/sql/overview/">Query &amp; SQL Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/overview/">Query &amp; SQL Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/docs/pgwire/pgwire-intro/">PGWire Clients</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pgwire/pgwire-intro/">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pgwire/python/">Python</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pgwire/go/">Go</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pgwire/java/">Java</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pgwire/rust/">Rust</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pgwire/javascript/">Node.js</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pgwire/c-sharp/">.NET</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pgwire/php/">PHP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pgwire/rpostgres/">R</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/datatypes/">Data types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concept/sql-execution-order/">SQL execution order</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/reference/sql/acl/add-user/">SQL Syntax</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/acl/add-user/">ADD USER</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/reference/sql/alter-table-alter-column-add-index/">ALTER</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/acl/assume-service-account/">ASSUME SERVICE ACCOUNT</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/cancel-query/">CANCEL QUERY</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/checkpoint/">CHECKPOINT</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/copy/">COPY</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/reference/sql/create-table/">CREATE</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/reference/sql/drop/">DROP</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/explain/">EXPLAIN</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/acl/exit-service-account/">EXIT SERVICE ACCOUNT</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/reference/sql/acl/grant/">GRANT</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/insert/">INSERT</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/refresh-mat-view/">REFRESH MATERIALIZED VIEW</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/reindex/">REINDEX</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/rename/">RENAME TABLE</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/acl/remove-user/">REMOVE USER</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/reference/sql/acl/revoke/">REVOKE</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/reference/sql/select/">SELECT</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/select/">SELECT OVERVIEW</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/asof-join/">ASOF JOIN</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/case/">CASE</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/cast/">CAST</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/declare/">DECLARE</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/distinct/">DISTINCT</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/fill/">FILL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/group-by/">GROUP BY</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/join/">JOIN</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/latest-on/">LATEST ON</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/limit/">LIMIT</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/order-by/">ORDER BY</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/over/">OVER</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/reference/sql/sample-by/">SAMPLE BY</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/where/">WHERE</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/with/">WITH</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/show/">SHOW</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/snapshot/">SNAPSHOT</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/truncate/">TRUNCATE TABLE</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/union-except-intersect/">UNION EXCEPT INTERSECT</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/update/">UPDATE</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/sql/vacuum-table/">VACUUM TABLE</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/reference/function/aggregation/">Functions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/reference/operators/bitwise/">Operators</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/deployment/docker/">Deployment</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/operations/migrate-to-enterprise/">Operations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/guides/create-database/">Guides &amp; Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/concept/deduplication/">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/guides/architecture/questdb-architecture/">Architecture</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/third-party-tools/overview/">Third-party Tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/troubleshooting/faq/">Troubleshooting</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Query &amp; SQL Reference</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">SQL Syntax</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">SELECT</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">SAMPLE BY</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>SAMPLE BY keyword</h1></header><p><code>SAMPLE BY</code> is used on <a href="https://questdb.com/blog/what-is-time-series-data/">time-series data</a> to summarize large datasets into
aggregates of homogeneous time chunks as part of a
<a rel="" href="/docs/reference/sql/select/">SELECT statement</a>.</p>
<p>To use <code>SAMPLE BY</code>, a table column needs to be specified as a
<a rel="" href="/docs/concept/designated-timestamp/">designated timestamp</a>.</p>
<p>Users performing <code>SAMPLE BY</code> queries on datasets <strong>with missing data</strong> may make
use of the <a href="#fill-options" rel="">FILL</a> keyword to specify a fill behavior.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="syntax">Syntax<a href="#syntax" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sample-by-keywords">SAMPLE BY keywords<a href="#sample-by-keywords" class="hash-link" aria-label="Direct link to SAMPLE BY keywords" title="Direct link to SAMPLE BY keywords">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Flow chart showing the syntax of the SAMPLE BY keywords" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MjMiIGhlaWdodD0iMjg5Ij4KICAgIDxkZWZzPgogICAgICAgIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+CiAgICAgICAgICAgIEBuYW1lc3BhY2UgImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIjsKICAgICAgICAgICAgLmxpbmUgICAgICAgICAgICAgICAgIHtmaWxsOiBub25lOyBzdHJva2U6ICM2MzYyNzM7fQogICAgICAgICAgICAuYm9sZC1saW5lICAgICAgICAgICAge3N0cm9rZTogIzYzNjI3Mzsgc2hhcGUtcmVuZGVyaW5nOiBjcmlzcEVkZ2VzOyBzdHJva2Utd2lkdGg6IDI7IH0KICAgICAgICAgICAgLnRoaW4tbGluZSAgICAgICAgICAge3N0cm9rZTogIzYzNjI3Mzsgc2hhcGUtcmVuZGVyaW5nOiBjcmlzcEVkZ2VzfQogICAgICAgICAgICAuZmlsbGVkICAgICAgICAgICAgICB7ZmlsbDogIzYzNjI3Mzsgc3Ryb2tlOiBub25lO30KICAgICAgICAgICAgdGV4dC50ZXJtaW5hbCAgICAgICAge2ZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICJTZWdvZSBVSSIsIFJvYm90bywgVWJ1bnR1LCBDYW50YXJlbGwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjsKICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICBmaWxsOiAjZmZmZmZmOwogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgfQogICAgICAgICAgICB0ZXh0Lm5vbnRlcm1pbmFsICAgICB7Zm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgIlNlZ29lIFVJIiwgUm9ib3RvLCBVYnVudHUsIENhbnRhcmVsbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOwogICAgICAgICAgICBmb250LXNpemU6IDEycHg7CiAgICAgICAgICAgIGZpbGw6ICNlMjg5YTQ7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGV4dC5yZWdleHAgICAgICAgICAge2ZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICJTZWdvZSBVSSIsIFJvYm90bywgVWJ1bnR1LCBDYW50YXJlbGwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjsKICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICBmaWxsOiAjMDAxNDFGOwogICAgICAgICAgICBmb250LXdlaWdodDogbm9ybWFsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlY3QsIGNpcmNsZSwgcG9seWdvbiB7ZmlsbDogbm9uZTsgc3Ryb2tlOiBub25lO30KICAgICAgICAgICAgcmVjdC50ZXJtaW5hbCAgICAgICAge2ZpbGw6IG5vbmU7IHN0cm9rZTogI2JlMmY1Yjt9CiAgICAgICAgICAgIHJlY3Qubm9udGVybWluYWwgICAgIHtmaWxsOiByZ2JhKDI1NSwyNTUsMjU1LDAuMSk7IHN0cm9rZTogbm9uZTt9CiAgICAgICAgICAgIHJlY3QudGV4dCAgICAgICAgICAgIHtmaWxsOiBub25lOyBzdHJva2U6IG5vbmU7fQogICAgICAgICAgICBwb2x5Z29uLnJlZ2V4cCAgICAgICB7ZmlsbDogI0M3RUNGRjsgc3Ryb2tlOiAjMDM4Y2JjO30KICAgICAgICA8L3N0eWxlPgogICAgPC9kZWZzPgogICAgPHBvbHlnb24gcG9pbnRzPSI5IDE3IDEgMTMgMSAyMSI+PC9wb2x5Z29uPgogICAgICAgICA8cG9seWdvbiBwb2ludHM9IjE3IDE3IDkgMTMgOSAyMSI+PC9wb2x5Z29uPjxhIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bGluazpocmVmPSIjc29tZVNlbGVjdFN0YXRlbWVudC4uLiIgeGxpbms6dGl0bGU9InNvbWVTZWxlY3RTdGF0ZW1lbnQuLi4iPgogICAgICAgICAgICA8cmVjdCB4PSIzMSIgeT0iMyIgd2lkdGg9IjE3MiIgaGVpZ2h0PSIzMiI+PC9yZWN0PgogICAgICAgICAgICA8cmVjdCB4PSIyOSIgeT0iMSIgd2lkdGg9IjE3MiIgaGVpZ2h0PSIzMiIgY2xhc3M9Im5vbnRlcm1pbmFsIj48L3JlY3Q+CiAgICAgICAgICAgIDx0ZXh0IGNsYXNzPSJub250ZXJtaW5hbCIgeD0iMzkiIHk9IjIxIj5zb21lU2VsZWN0U3RhdGVtZW50Li4uPC90ZXh0PjwvYT48cmVjdCB4PSIyMjMiIHk9IjMiIHdpZHRoPSI3NCIgaGVpZ2h0PSIzMiIgcng9IjEwIj48L3JlY3Q+CiAgICAgICAgIDxyZWN0IHg9IjIyMSIgeT0iMSIgd2lkdGg9Ijc0IiBoZWlnaHQ9IjMyIiBjbGFzcz0idGVybWluYWwiIHJ4PSIxMCI+PC9yZWN0PgogICAgICAgICA8dGV4dCBjbGFzcz0idGVybWluYWwiIHg9IjIzMSIgeT0iMjEiPlNBTVBMRTwvdGV4dD4KICAgICAgICAgPHJlY3QgeD0iMzE3IiB5PSIzIiB3aWR0aD0iMzgiIGhlaWdodD0iMzIiIHJ4PSIxMCI+PC9yZWN0PgogICAgICAgICA8cmVjdCB4PSIzMTUiIHk9IjEiIHdpZHRoPSIzOCIgaGVpZ2h0PSIzMiIgY2xhc3M9InRlcm1pbmFsIiByeD0iMTAiPjwvcmVjdD4KICAgICAgICAgPHRleHQgY2xhc3M9InRlcm1pbmFsIiB4PSIzMjUiIHk9IjIxIj5CWTwvdGV4dD48YSB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeGxpbms6aHJlZj0iI24iIHhsaW5rOnRpdGxlPSJuIj4KICAgICAgICAgICAgPHJlY3QgeD0iMzc1IiB5PSIzIiB3aWR0aD0iMjgiIGhlaWdodD0iMzIiPjwvcmVjdD4KICAgICAgICAgICAgPHJlY3QgeD0iMzczIiB5PSIxIiB3aWR0aD0iMjgiIGhlaWdodD0iMzIiIGNsYXNzPSJub250ZXJtaW5hbCI+PC9yZWN0PgogICAgICAgICAgICA8dGV4dCBjbGFzcz0ibm9udGVybWluYWwiIHg9IjM4MyIgeT0iMjEiPm48L3RleHQ+PC9hPjxyZWN0IHg9IjQ0MyIgeT0iMzUiIHdpZHRoPSIyOCIgaGVpZ2h0PSIzMiIgcng9IjEwIj48L3JlY3Q+CiAgICAgICAgIDxyZWN0IHg9IjQ0MSIgeT0iMzMiIHdpZHRoPSIyOCIgaGVpZ2h0PSIzMiIgY2xhc3M9InRlcm1pbmFsIiByeD0iMTAiPjwvcmVjdD4KICAgICAgICAgPHRleHQgY2xhc3M9InRlcm1pbmFsIiB4PSI0NTEiIHk9IjUzIj5UPC90ZXh0PgogICAgICAgICA8cmVjdCB4PSI0NDMiIHk9Ijc5IiB3aWR0aD0iMjYiIGhlaWdodD0iMzIiIHJ4PSIxMCI+PC9yZWN0PgogICAgICAgICA8cmVjdCB4PSI0NDEiIHk9Ijc3IiB3aWR0aD0iMjYiIGhlaWdodD0iMzIiIGNsYXNzPSJ0ZXJtaW5hbCIgcng9IjEwIj48L3JlY3Q+CiAgICAgICAgIDx0ZXh0IGNsYXNzPSJ0ZXJtaW5hbCIgeD0iNDUxIiB5PSI5NyI+czwvdGV4dD4KICAgICAgICAgPHJlY3QgeD0iNDQzIiB5PSIxMjMiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgcng9IjEwIj48L3JlY3Q+CiAgICAgICAgIDxyZWN0IHg9IjQ0MSIgeT0iMTIxIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGNsYXNzPSJ0ZXJtaW5hbCIgcng9IjEwIj48L3JlY3Q+CiAgICAgICAgIDx0ZXh0IGNsYXNzPSJ0ZXJtaW5hbCIgeD0iNDUxIiB5PSIxNDEiPm08L3RleHQ+CiAgICAgICAgIDxyZWN0IHg9IjQ0MyIgeT0iMTY3IiB3aWR0aD0iMjgiIGhlaWdodD0iMzIiIHJ4PSIxMCI+PC9yZWN0PgogICAgICAgICA8cmVjdCB4PSI0NDEiIHk9IjE2NSIgd2lkdGg9IjI4IiBoZWlnaHQ9IjMyIiBjbGFzcz0idGVybWluYWwiIHJ4PSIxMCI+PC9yZWN0PgogICAgICAgICA8dGV4dCBjbGFzcz0idGVybWluYWwiIHg9IjQ1MSIgeT0iMTg1Ij5oPC90ZXh0PgogICAgICAgICA8cmVjdCB4PSI0NDMiIHk9IjIxMSIgd2lkdGg9IjI4IiBoZWlnaHQ9IjMyIiByeD0iMTAiPjwvcmVjdD4KICAgICAgICAgPHJlY3QgeD0iNDQxIiB5PSIyMDkiIHdpZHRoPSIyOCIgaGVpZ2h0PSIzMiIgY2xhc3M9InRlcm1pbmFsIiByeD0iMTAiPjwvcmVjdD4KICAgICAgICAgPHRleHQgY2xhc3M9InRlcm1pbmFsIiB4PSI0NTEiIHk9IjIyOSI+ZDwvdGV4dD4KICAgICAgICAgPHJlY3QgeD0iNDQzIiB5PSIyNTUiIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMiIgcng9IjEwIj48L3JlY3Q+CiAgICAgICAgIDxyZWN0IHg9IjQ0MSIgeT0iMjUzIiB3aWR0aD0iMzAiIGhlaWdodD0iMzIiIGNsYXNzPSJ0ZXJtaW5hbCIgcng9IjEwIj48L3JlY3Q+CiAgICAgICAgIDx0ZXh0IGNsYXNzPSJ0ZXJtaW5hbCIgeD0iNDUxIiB5PSIyNzMiPk08L3RleHQ+CiAgICAgICAgIDxwYXRoIGNsYXNzPSJsaW5lIiBkPSJtMTcgMTcgaDIgbTAgMCBoMTAgbTE3MiAwIGgxMCBtMCAwIGgxMCBtNzQgMCBoMTAgbTAgMCBoMTAgbTM4IDAgaDEwIG0wIDAgaDEwIG0yOCAwIGgxMCBtMjAgMCBoMTAgbTAgMCBoNDIgbS03MiAwIGgyMCBtNTIgMCBoMjAgbS05MiAwIHExMCAwIDEwIDEwIG03MiAwIHEwIC0xMCAxMCAtMTAgbS04MiAxMCB2MTIgbTcyIDAgdi0xMiBtLTcyIDEyIHEwIDEwIDEwIDEwIG01MiAwIHExMCAwIDEwIC0xMCBtLTYyIDEwIGgxMCBtMjggMCBoMTAgbTAgMCBoNCBtLTYyIC0xMCB2MjAgbTcyIDAgdi0yMCBtLTcyIDIwIHYyNCBtNzIgMCB2LTI0IG0tNzIgMjQgcTAgMTAgMTAgMTAgbTUyIDAgcTEwIDAgMTAgLTEwIG0tNjIgMTAgaDEwIG0yNiAwIGgxMCBtMCAwIGg2IG0tNjIgLTEwIHYyMCBtNzIgMCB2LTIwIG0tNzIgMjAgdjI0IG03MiAwIHYtMjQgbS03MiAyNCBxMCAxMCAxMCAxMCBtNTIgMCBxMTAgMCAxMCAtMTAgbS02MiAxMCBoMTAgbTMyIDAgaDEwIG0tNjIgLTEwIHYyMCBtNzIgMCB2LTIwIG0tNzIgMjAgdjI0IG03MiAwIHYtMjQgbS03MiAyNCBxMCAxMCAxMCAxMCBtNTIgMCBxMTAgMCAxMCAtMTAgbS02MiAxMCBoMTAgbTI4IDAgaDEwIG0wIDAgaDQgbS02MiAtMTAgdjIwIG03MiAwIHYtMjAgbS03MiAyMCB2MjQgbTcyIDAgdi0yNCBtLTcyIDI0IHEwIDEwIDEwIDEwIG01MiAwIHExMCAwIDEwIC0xMCBtLTYyIDEwIGgxMCBtMjggMCBoMTAgbTAgMCBoNCBtLTYyIC0xMCB2MjAgbTcyIDAgdi0yMCBtLTcyIDIwIHYyNCBtNzIgMCB2LTI0IG0tNzIgMjQgcTAgMTAgMTAgMTAgbTUyIDAgcTEwIDAgMTAgLTEwIG0tNjIgMTAgaDEwIG0zMCAwIGgxMCBtMCAwIGgyIG0yMyAtMjUyIGgtMyI+PC9wYXRoPgogICAgICAgICA8cG9seWdvbiBwb2ludHM9IjUxMyAxNyA1MjEgMTMgNTIxIDIxIj48L3BvbHlnb24+CiAgICAgICAgIDxwb2x5Z29uIHBvaW50cz0iNTEzIDE3IDUwNSAxMyA1MDUgMjEiPjwvcG9seWdvbj4KPC9zdmc+" width="523" height="289" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="from-to-keywords">FROM-TO keywords<a href="#from-to-keywords" class="hash-link" aria-label="Direct link to FROM-TO keywords" title="Direct link to FROM-TO keywords">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Flow chart showing the syntax of the FROM-TO keywords" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MTMiIGhlaWdodD0iMTEzIj4KICAgIDxkZWZzPgogICAgICAgIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+CiAgICAgICAgICAgIEBuYW1lc3BhY2UgImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIjsKICAgICAgICAgICAgLmxpbmUgICAgICAgICAgICAgICAgIHtmaWxsOiBub25lOyBzdHJva2U6ICM2MzYyNzM7fQogICAgICAgICAgICAuYm9sZC1saW5lICAgICAgICAgICAge3N0cm9rZTogIzYzNjI3Mzsgc2hhcGUtcmVuZGVyaW5nOiBjcmlzcEVkZ2VzOyBzdHJva2Utd2lkdGg6IDI7IH0KICAgICAgICAgICAgLnRoaW4tbGluZSAgICAgICAgICAgIHtzdHJva2U6ICM2MzYyNzM7IHNoYXBlLXJlbmRlcmluZzogY3Jpc3BFZGdlc30KICAgICAgICAgICAgLmZpbGxlZCAgICAgICAgICAgICAgIHtmaWxsOiAjNjM2MjczOyBzdHJva2U6IG5vbmU7fQogICAgICAgICAgICB0ZXh0LnRlcm1pbmFsICAgICAgICAge2ZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICJTZWdvZSBVSSIsIFJvYm90bywgVWJ1bnR1LCBDYW50YXJlbGwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjsKICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICBmaWxsOiAjZmZmZmZmOwogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgfQogICAgICAgICAgICB0ZXh0Lm5vbnRlcm1pbmFsICAgICAge2ZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICJTZWdvZSBVSSIsIFJvYm90bywgVWJ1bnR1LCBDYW50YXJlbGwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjsKICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICBmaWxsOiAjZTI4OWE0OwogICAgICAgICAgICBmb250LXdlaWdodDogbm9ybWFsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRleHQucmVnZXhwICAgICAgICAgICB7Zm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgIlNlZ29lIFVJIiwgUm9ib3RvLCBVYnVudHUsIENhbnRhcmVsbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOwogICAgICAgICAgICBmb250LXNpemU6IDEycHg7CiAgICAgICAgICAgIGZpbGw6ICMwMDE0MUY7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmVjdCwgY2lyY2xlLCBwb2x5Z29uIHtmaWxsOiBub25lOyBzdHJva2U6IG5vbmU7fQogICAgICAgICAgICByZWN0LnRlcm1pbmFsICAgICAgICAge2ZpbGw6IG5vbmU7IHN0cm9rZTogI2JlMmY1Yjt9CiAgICAgICAgICAgIHJlY3Qubm9udGVybWluYWwgICAgICB7ZmlsbDogcmdiYSgyNTUsMjU1LDI1NSwwLjEpOyBzdHJva2U6IG5vbmU7fQogICAgICAgICAgICByZWN0LnRleHQgICAgICAgICAgICAge2ZpbGw6IG5vbmU7IHN0cm9rZTogbm9uZTt9CiAgICAgICAgICAgIHBvbHlnb24ucmVnZXhwICAgICAgICB7ZmlsbDogI0M3RUNGRjsgc3Ryb2tlOiAjMDM4Y2JjO30KICAgICAgICA8L3N0eWxlPgogICAgPC9kZWZzPgogICAgPHBvbHlnb24gcG9pbnRzPSI5IDE3IDEgMTMgMSAyMSIvPgogICAgPHBvbHlnb24gcG9pbnRzPSIxNyAxNyA5IDEzIDkgMjEiLz4KICAgIDxhIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIgogICAgICAgeGxpbms6aHJlZj0iI3NvbWVTYW1wbGVCeVNlbGVjdFF1ZXJ5Li4uIgogICAgICAgeGxpbms6dGl0bGU9InNvbWVTYW1wbGVCeVNlbGVjdFF1ZXJ5Li4uIj4KICAgICAgICA8cmVjdCB4PSIzMSIgeT0iMyIgd2lkdGg9IjIwNiIgaGVpZ2h0PSIzMiIvPgogICAgICAgIDxyZWN0IHg9IjI5IiB5PSIxIiB3aWR0aD0iMjA2IiBoZWlnaHQ9IjMyIiBjbGFzcz0ibm9udGVybWluYWwiLz4KICAgICAgICA8dGV4dCBjbGFzcz0ibm9udGVybWluYWwiIHg9IjM5IiB5PSIyMSI+c29tZVNhbXBsZUJ5U2VsZWN0UXVlcnkuLi48L3RleHQ+CiAgICA8L2E+CiAgICA8cmVjdCB4PSIyNzciIHk9IjMiIHdpZHRoPSI2MCIgaGVpZ2h0PSIzMiIgcng9IjEwIi8+CiAgICA8cmVjdCB4PSIyNzUiCiAgICAgICAgICB5PSIxIgogICAgICAgICAgd2lkdGg9IjYwIgogICAgICAgICAgaGVpZ2h0PSIzMiIKICAgICAgICAgIGNsYXNzPSJ0ZXJtaW5hbCIKICAgICAgICAgIHJ4PSIxMCIvPgogICAgPHRleHQgY2xhc3M9InRlcm1pbmFsIiB4PSIyODUiIHk9IjIxIj5GUk9NPC90ZXh0PgogICAgPGEgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiCiAgICAgICB4bGluazpocmVmPSIjbG93ZXJCb3VuZCIKICAgICAgIHhsaW5rOnRpdGxlPSJsb3dlckJvdW5kIj4KICAgICAgICA8cmVjdCB4PSIzNTciIHk9IjMiIHdpZHRoPSI5NCIgaGVpZ2h0PSIzMiIvPgogICAgICAgIDxyZWN0IHg9IjM1NSIgeT0iMSIgd2lkdGg9Ijk0IiBoZWlnaHQ9IjMyIiBjbGFzcz0ibm9udGVybWluYWwiLz4KICAgICAgICA8dGV4dCBjbGFzcz0ibm9udGVybWluYWwiIHg9IjM2NSIgeT0iMjEiPmxvd2VyQm91bmQ8L3RleHQ+CiAgICA8L2E+CiAgICA8cmVjdCB4PSI0OTEiIHk9IjM1IiB3aWR0aD0iMzgiIGhlaWdodD0iMzIiIHJ4PSIxMCIvPgogICAgPHJlY3QgeD0iNDg5IgogICAgICAgICAgeT0iMzMiCiAgICAgICAgICB3aWR0aD0iMzgiCiAgICAgICAgICBoZWlnaHQ9IjMyIgogICAgICAgICAgY2xhc3M9InRlcm1pbmFsIgogICAgICAgICAgcng9IjEwIi8+CiAgICA8dGV4dCBjbGFzcz0idGVybWluYWwiIHg9IjQ5OSIgeT0iNTMiPlRPPC90ZXh0PgogICAgPGEgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiCiAgICAgICB4bGluazpocmVmPSIjdXBwZXJCb3VuZCIKICAgICAgIHhsaW5rOnRpdGxlPSJ1cHBlckJvdW5kIj4KICAgICAgICA8cmVjdCB4PSI1NDkiIHk9IjM1IiB3aWR0aD0iOTYiIGhlaWdodD0iMzIiLz4KICAgICAgICA8cmVjdCB4PSI1NDciIHk9IjMzIiB3aWR0aD0iOTYiIGhlaWdodD0iMzIiIGNsYXNzPSJub250ZXJtaW5hbCIvPgogICAgICAgIDx0ZXh0IGNsYXNzPSJub250ZXJtaW5hbCIgeD0iNTU3IiB5PSI1MyI+dXBwZXJCb3VuZDwvdGV4dD4KICAgIDwvYT4KICAgIDxyZWN0IHg9IjI3NyIgeT0iNzkiIHdpZHRoPSIzOCIgaGVpZ2h0PSIzMiIgcng9IjEwIi8+CiAgICA8cmVjdCB4PSIyNzUiCiAgICAgICAgICB5PSI3NyIKICAgICAgICAgIHdpZHRoPSIzOCIKICAgICAgICAgIGhlaWdodD0iMzIiCiAgICAgICAgICBjbGFzcz0idGVybWluYWwiCiAgICAgICAgICByeD0iMTAiLz4KICAgIDx0ZXh0IGNsYXNzPSJ0ZXJtaW5hbCIgeD0iMjg1IiB5PSI5NyI+VE88L3RleHQ+CiAgICA8YSB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIKICAgICAgIHhsaW5rOmhyZWY9IiN1cHBlckJvdW5kIgogICAgICAgeGxpbms6dGl0bGU9InVwcGVyQm91bmQiPgogICAgICAgIDxyZWN0IHg9IjMzNSIgeT0iNzkiIHdpZHRoPSI5NiIgaGVpZ2h0PSIzMiIvPgogICAgICAgIDxyZWN0IHg9IjMzMyIgeT0iNzciIHdpZHRoPSI5NiIgaGVpZ2h0PSIzMiIgY2xhc3M9Im5vbnRlcm1pbmFsIi8+CiAgICAgICAgPHRleHQgY2xhc3M9Im5vbnRlcm1pbmFsIiB4PSIzNDMiIHk9Ijk3Ij51cHBlckJvdW5kPC90ZXh0PgogICAgPC9hPgogICAgPHBhdGggY2xhc3M9ImxpbmUiCiAgICAgICAgICBkPSJtMTcgMTcgaDIgbTAgMCBoMTAgbTIwNiAwIGgxMCBtMjAgMCBoMTAgbTYwIDAgaDEwIG0wIDAgaDEwIG05NCAwIGgxMCBtMjAgMCBoMTAgbTAgMCBoMTY0IG0tMTk0IDAgaDIwIG0xNzQgMCBoMjAgbS0yMTQgMCBxMTAgMCAxMCAxMCBtMTk0IDAgcTAgLTEwIDEwIC0xMCBtLTIwNCAxMCB2MTIgbTE5NCAwIHYtMTIgbS0xOTQgMTIgcTAgMTAgMTAgMTAgbTE3NCAwIHExMCAwIDEwIC0xMCBtLTE4NCAxMCBoMTAgbTM4IDAgaDEwIG0wIDAgaDEwIG05NiAwIGgxMCBtLTQwOCAtMzIgaDIwIG00MDggMCBoMjAgbS00NDggMCBxMTAgMCAxMCAxMCBtNDI4IDAgcTAgLTEwIDEwIC0xMCBtLTQzOCAxMCB2NTYgbTQyOCAwIHYtNTYgbS00MjggNTYgcTAgMTAgMTAgMTAgbTQwOCAwIHExMCAwIDEwIC0xMCBtLTQxOCAxMCBoMTAgbTM4IDAgaDEwIG0wIDAgaDEwIG05NiAwIGgxMCBtMCAwIGgyMzQgbTIzIC03NiBoLTMiLz4KICAgIDxwb2x5Z29uIHBvaW50cz0iNzAzIDE3IDcxMSAxMyA3MTEgMjEiLz4KICAgIDxwb2x5Z29uIHBvaW50cz0iNzAzIDE3IDY5NSAxMyA2OTUgMjEiLz4KPC9zdmc+Cg==" width="713" height="113" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fill-keywords">FILL keywords<a href="#fill-keywords" class="hash-link" aria-label="Direct link to FILL keywords" title="Direct link to FILL keywords">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Flow chart showing the syntax of the FILL keyword" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NzciIGhlaWdodD0iMjQ1Ij4KICAgIDxkZWZzPgogICAgICAgIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+CiAgICAgICAgICAgIEBuYW1lc3BhY2UgImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIjsKICAgICAgICAgICAgLmxpbmUgICAgICAgICAgICAgICAgIHtmaWxsOiBub25lOyBzdHJva2U6ICM2MzYyNzM7fQogICAgICAgICAgICAuYm9sZC1saW5lICAgICAgICAgICAge3N0cm9rZTogIzYzNjI3Mzsgc2hhcGUtcmVuZGVyaW5nOiBjcmlzcEVkZ2VzOyBzdHJva2Utd2lkdGg6IDI7IH0KICAgICAgICAgICAgLnRoaW4tbGluZSAgICAgICAgICAge3N0cm9rZTogIzYzNjI3Mzsgc2hhcGUtcmVuZGVyaW5nOiBjcmlzcEVkZ2VzfQogICAgICAgICAgICAuZmlsbGVkICAgICAgICAgICAgICB7ZmlsbDogIzYzNjI3Mzsgc3Ryb2tlOiBub25lO30KICAgICAgICAgICAgdGV4dC50ZXJtaW5hbCAgICAgICAge2ZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICJTZWdvZSBVSSIsIFJvYm90bywgVWJ1bnR1LCBDYW50YXJlbGwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjsKICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICBmaWxsOiAjZmZmZmZmOwogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgfQogICAgICAgICAgICB0ZXh0Lm5vbnRlcm1pbmFsICAgICB7Zm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgIlNlZ29lIFVJIiwgUm9ib3RvLCBVYnVudHUsIENhbnRhcmVsbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOwogICAgICAgICAgICBmb250LXNpemU6IDEycHg7CiAgICAgICAgICAgIGZpbGw6ICNlMjg5YTQ7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGV4dC5yZWdleHAgICAgICAgICAge2ZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICJTZWdvZSBVSSIsIFJvYm90bywgVWJ1bnR1LCBDYW50YXJlbGwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjsKICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICBmaWxsOiAjMDAxNDFGOwogICAgICAgICAgICBmb250LXdlaWdodDogbm9ybWFsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlY3QsIGNpcmNsZSwgcG9seWdvbiB7ZmlsbDogbm9uZTsgc3Ryb2tlOiBub25lO30KICAgICAgICAgICAgcmVjdC50ZXJtaW5hbCAgICAgICAge2ZpbGw6IG5vbmU7IHN0cm9rZTogI2JlMmY1Yjt9CiAgICAgICAgICAgIHJlY3Qubm9udGVybWluYWwgICAgIHtmaWxsOiByZ2JhKDI1NSwyNTUsMjU1LDAuMSk7IHN0cm9rZTogbm9uZTt9CiAgICAgICAgICAgIHJlY3QudGV4dCAgICAgICAgICAgIHtmaWxsOiBub25lOyBzdHJva2U6IG5vbmU7fQogICAgICAgICAgICBwb2x5Z29uLnJlZ2V4cCAgICAgICB7ZmlsbDogI0M3RUNGRjsgc3Ryb2tlOiAjMDM4Y2JjO30KICAgICAgICA8L3N0eWxlPgogICAgPC9kZWZzPgogICAgPHBvbHlnb24gcG9pbnRzPSI5IDMzIDEgMjkgMSAzNyI+PC9wb2x5Z29uPgogICAgICAgICA8cG9seWdvbiBwb2ludHM9IjE3IDMzIDkgMjkgOSAzNyI+PC9wb2x5Z29uPjxhIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bGluazpocmVmPSIjc29tZVNhbXBsZUJ5U2VsZWN0UXVlcnkiIHhsaW5rOnRpdGxlPSJzb21lU2FtcGxlQnlTZWxlY3RRdWVyeSI+CiAgICAgICAgICAgIDxyZWN0IHg9IjMxIiB5PSIxOSIgd2lkdGg9IjE5MiIgaGVpZ2h0PSIzMiI+PC9yZWN0PgogICAgICAgICAgICA8cmVjdCB4PSIyOSIgeT0iMTciIHdpZHRoPSIxOTIiIGhlaWdodD0iMzIiIGNsYXNzPSJub250ZXJtaW5hbCI+PC9yZWN0PgogICAgICAgICAgICA8dGV4dCBjbGFzcz0ibm9udGVybWluYWwiIHg9IjM5IiB5PSIzNyI+c29tZVNhbXBsZUJ5U2VsZWN0UXVlcnk8L3RleHQ+PC9hPjxyZWN0IHg9IjI0MyIgeT0iMTkiIHdpZHRoPSI1MCIgaGVpZ2h0PSIzMiIgcng9IjEwIj48L3JlY3Q+CiAgICAgICAgIDxyZWN0IHg9IjI0MSIgeT0iMTciIHdpZHRoPSI1MCIgaGVpZ2h0PSIzMiIgY2xhc3M9InRlcm1pbmFsIiByeD0iMTAiPjwvcmVjdD4KICAgICAgICAgPHRleHQgY2xhc3M9InRlcm1pbmFsIiB4PSIyNTEiIHk9IjM3Ij5GSUxMPC90ZXh0PgogICAgICAgICA8cmVjdCB4PSIzNzMiIHk9IjE5IiB3aWR0aD0iNTgiIGhlaWdodD0iMzIiIHJ4PSIxMCI+PC9yZWN0PgogICAgICAgICA8cmVjdCB4PSIzNzEiIHk9IjE3IiB3aWR0aD0iNTgiIGhlaWdodD0iMzIiIGNsYXNzPSJ0ZXJtaW5hbCIgcng9IjEwIj48L3JlY3Q+CiAgICAgICAgIDx0ZXh0IGNsYXNzPSJ0ZXJtaW5hbCIgeD0iMzgxIiB5PSIzNyI+Tk9ORTwvdGV4dD4KICAgICAgICAgPHJlY3QgeD0iMzczIiB5PSI2MyIgd2lkdGg9IjU2IiBoZWlnaHQ9IjMyIiByeD0iMTAiPjwvcmVjdD4KICAgICAgICAgPHJlY3QgeD0iMzcxIiB5PSI2MSIgd2lkdGg9IjU2IiBoZWlnaHQ9IjMyIiBjbGFzcz0idGVybWluYWwiIHJ4PSIxMCI+PC9yZWN0PgogICAgICAgICA8dGV4dCBjbGFzcz0idGVybWluYWwiIHg9IjM4MSIgeT0iODEiPk5VTEw8L3RleHQ+CiAgICAgICAgIDxyZWN0IHg9IjM3MyIgeT0iMTA3IiB3aWR0aD0iNTYiIGhlaWdodD0iMzIiIHJ4PSIxMCI+PC9yZWN0PgogICAgICAgICA8cmVjdCB4PSIzNzEiIHk9IjEwNSIgd2lkdGg9IjU2IiBoZWlnaHQ9IjMyIiBjbGFzcz0idGVybWluYWwiIHJ4PSIxMCI+PC9yZWN0PgogICAgICAgICA8dGV4dCBjbGFzcz0idGVybWluYWwiIHg9IjM4MSIgeT0iMTI1Ij5QUkVWPC90ZXh0PgogICAgICAgICA8cmVjdCB4PSIzNzMiIHk9IjE1MSIgd2lkdGg9IjcyIiBoZWlnaHQ9IjMyIiByeD0iMTAiPjwvcmVjdD4KICAgICAgICAgPHJlY3QgeD0iMzcxIiB5PSIxNDkiIHdpZHRoPSI3MiIgaGVpZ2h0PSIzMiIgY2xhc3M9InRlcm1pbmFsIiByeD0iMTAiPjwvcmVjdD4KICAgICAgICAgPHRleHQgY2xhc3M9InRlcm1pbmFsIiB4PSIzODEiIHk9IjE2OSI+TElORUFSPC90ZXh0PgogICAgICAgICA8cmVjdCB4PSIzNzMiIHk9IjE5NSIgd2lkdGg9IjI4IiBoZWlnaHQ9IjMyIiByeD0iMTAiPjwvcmVjdD4KICAgICAgICAgPHJlY3QgeD0iMzcxIiB5PSIxOTMiIHdpZHRoPSIyOCIgaGVpZ2h0PSIzMiIgY2xhc3M9InRlcm1pbmFsIiByeD0iMTAiPjwvcmVjdD4KICAgICAgICAgPHRleHQgY2xhc3M9InRlcm1pbmFsIiB4PSIzODEiIHk9IjIxMyI+eDwvdGV4dD4KICAgICAgICAgPHJlY3QgeD0iNDg1IiB5PSIxOSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjMyIiByeD0iMTAiPjwvcmVjdD4KICAgICAgICAgPHJlY3QgeD0iNDgzIiB5PSIxNyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjMyIiBjbGFzcz0idGVybWluYWwiIHJ4PSIxMCI+PC9yZWN0PgogICAgICAgICA8dGV4dCBjbGFzcz0idGVybWluYWwiIHg9IjQ5MyIgeT0iMzciPiw8L3RleHQ+CiAgICAgICAgIDxwYXRoIGNsYXNzPSJsaW5lIiBkPSJtMTcgMzMgaDIgbTAgMCBoMTAgbTE5MiAwIGgxMCBtMCAwIGgxMCBtNTAgMCBoMTAgbTYwIDAgaDEwIG01OCAwIGgxMCBtMCAwIGgxNCBtLTExMiAwIGgyMCBtOTIgMCBoMjAgbS0xMzIgMCBxMTAgMCAxMCAxMCBtMTEyIDAgcTAgLTEwIDEwIC0xMCBtLTEyMiAxMCB2MjQgbTExMiAwIHYtMjQgbS0xMTIgMjQgcTAgMTAgMTAgMTAgbTkyIDAgcTEwIDAgMTAgLTEwIG0tMTAyIDEwIGgxMCBtNTYgMCBoMTAgbTAgMCBoMTYgbS0xMDIgLTEwIHYyMCBtMTEyIDAgdi0yMCBtLTExMiAyMCB2MjQgbTExMiAwIHYtMjQgbS0xMTIgMjQgcTAgMTAgMTAgMTAgbTkyIDAgcTEwIDAgMTAgLTEwIG0tMTAyIDEwIGgxMCBtNTYgMCBoMTAgbTAgMCBoMTYgbS0xMDIgLTEwIHYyMCBtMTEyIDAgdi0yMCBtLTExMiAyMCB2MjQgbTExMiAwIHYtMjQgbS0xMTIgMjQgcTAgMTAgMTAgMTAgbTkyIDAgcTEwIDAgMTAgLTEwIG0tMTAyIDEwIGgxMCBtNzIgMCBoMTAgbS0xMDIgLTEwIHYyMCBtMTEyIDAgdi0yMCBtLTExMiAyMCB2MjQgbTExMiAwIHYtMjQgbS0xMTIgMjQgcTAgMTAgMTAgMTAgbTkyIDAgcTEwIDAgMTAgLTEwIG0tMTAyIDEwIGgxMCBtMjggMCBoMTAgbTAgMCBoNDQgbTIwIC0xNzYgaDEwIG0yNCAwIGgxMCBtLTE5NiAwIGwyMCAwIG0tMSAwIHEtOSAwIC05IC0xMCBsMCAtMTIgcTAgLTEwIDEwIC0xMCBtMTc2IDMyIGwyMCAwIG0tMjAgMCBxMTAgMCAxMCAtMTAgbDAgLTEyIHEwIC0xMCAtMTAgLTEwIG0tMTc2IDAgaDEwIG0wIDAgaDE2NiBtLTIxNiAzMiBoMjAgbTIxNiAwIGgyMCBtLTI1NiAwIHExMCAwIDEwIDEwIG0yMzYgMCBxMCAtMTAgMTAgLTEwIG0tMjQ2IDEwIHYxOTAgbTIzNiAwIHYtMTkwIG0tMjM2IDE5MCBxMCAxMCAxMCAxMCBtMjE2IDAgcTEwIDAgMTAgLTEwIG0tMjI2IDEwIGgxMCBtMCAwIGgyMDYgbTIzIC0yMTAgaC0zIj48L3BhdGg+CiAgICAgICAgIDxwb2x5Z29uIHBvaW50cz0iNTY3IDMzIDU3NSAyOSA1NzUgMzciPjwvcG9seWdvbj4KICAgICAgICAgPHBvbHlnb24gcG9pbnRzPSI1NjcgMzMgNTU5IDI5IDU1OSAzNyI+PC9wb2x5Z29uPgo8L3N2Zz4=" width="577" height="245" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="align-to-keywords">ALIGN TO keywords<a href="#align-to-keywords" class="hash-link" aria-label="Direct link to ALIGN TO keywords" title="Direct link to ALIGN TO keywords">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Flow chart showing the syntax of the ALIGN TO keywords" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MjMiIGhlaWdodD0iMTU3Ij4KICAgIDxkZWZzPgogICAgICAgIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+CiAgICAgICAgICAgIEBuYW1lc3BhY2UgImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIjsKICAgICAgICAgICAgLmxpbmUgICAgICAgICAgICAgICAgIHtmaWxsOiBub25lOyBzdHJva2U6ICM2MzYyNzM7fQogICAgICAgICAgICAuYm9sZC1saW5lICAgICAgICAgICAge3N0cm9rZTogIzYzNjI3Mzsgc2hhcGUtcmVuZGVyaW5nOiBjcmlzcEVkZ2VzOyBzdHJva2Utd2lkdGg6IDI7IH0KICAgICAgICAgICAgLnRoaW4tbGluZSAgICAgICAgICAge3N0cm9rZTogIzYzNjI3Mzsgc2hhcGUtcmVuZGVyaW5nOiBjcmlzcEVkZ2VzfQogICAgICAgICAgICAuZmlsbGVkICAgICAgICAgICAgICB7ZmlsbDogIzYzNjI3Mzsgc3Ryb2tlOiBub25lO30KICAgICAgICAgICAgdGV4dC50ZXJtaW5hbCAgICAgICAge2ZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICJTZWdvZSBVSSIsIFJvYm90bywgVWJ1bnR1LCBDYW50YXJlbGwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjsKICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICBmaWxsOiAjZmZmZmZmOwogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgfQogICAgICAgICAgICB0ZXh0Lm5vbnRlcm1pbmFsICAgICB7Zm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgIlNlZ29lIFVJIiwgUm9ib3RvLCBVYnVudHUsIENhbnRhcmVsbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOwogICAgICAgICAgICBmb250LXNpemU6IDEycHg7CiAgICAgICAgICAgIGZpbGw6ICNlMjg5YTQ7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGV4dC5yZWdleHAgICAgICAgICAge2ZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICJTZWdvZSBVSSIsIFJvYm90bywgVWJ1bnR1LCBDYW50YXJlbGwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjsKICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICBmaWxsOiAjMDAxNDFGOwogICAgICAgICAgICBmb250LXdlaWdodDogbm9ybWFsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlY3QsIGNpcmNsZSwgcG9seWdvbiB7ZmlsbDogbm9uZTsgc3Ryb2tlOiBub25lO30KICAgICAgICAgICAgcmVjdC50ZXJtaW5hbCAgICAgICAge2ZpbGw6IG5vbmU7IHN0cm9rZTogI2JlMmY1Yjt9CiAgICAgICAgICAgIHJlY3Qubm9udGVybWluYWwgICAgIHtmaWxsOiByZ2JhKDI1NSwyNTUsMjU1LDAuMSk7IHN0cm9rZTogbm9uZTt9CiAgICAgICAgICAgIHJlY3QudGV4dCAgICAgICAgICAgIHtmaWxsOiBub25lOyBzdHJva2U6IG5vbmU7fQogICAgICAgICAgICBwb2x5Z29uLnJlZ2V4cCAgICAgICB7ZmlsbDogI0M3RUNGRjsgc3Ryb2tlOiAjMDM4Y2JjO30KICAgICAgICA8L3N0eWxlPgogICAgPC9kZWZzPgogICAgPHBvbHlnb24gcG9pbnRzPSI5IDE3IDEgMTMgMSAyMSI+PC9wb2x5Z29uPgogICAgICAgICA8cG9seWdvbiBwb2ludHM9IjE3IDE3IDkgMTMgOSAyMSI+PC9wb2x5Z29uPgogICAgICAgICA8cmVjdCB4PSIzMSIgeT0iMyIgd2lkdGg9IjY0IiBoZWlnaHQ9IjMyIiByeD0iMTAiPjwvcmVjdD4KICAgICAgICAgPHJlY3QgeD0iMjkiIHk9IjEiIHdpZHRoPSI2NCIgaGVpZ2h0PSIzMiIgY2xhc3M9InRlcm1pbmFsIiByeD0iMTAiPjwvcmVjdD4KICAgICAgICAgPHRleHQgY2xhc3M9InRlcm1pbmFsIiB4PSIzOSIgeT0iMjEiPkFMSUdOPC90ZXh0PgogICAgICAgICA8cmVjdCB4PSIxMTUiIHk9IjMiIHdpZHRoPSIzOCIgaGVpZ2h0PSIzMiIgcng9IjEwIj48L3JlY3Q+CiAgICAgICAgIDxyZWN0IHg9IjExMyIgeT0iMSIgd2lkdGg9IjM4IiBoZWlnaHQ9IjMyIiBjbGFzcz0idGVybWluYWwiIHJ4PSIxMCI+PC9yZWN0PgogICAgICAgICA8dGV4dCBjbGFzcz0idGVybWluYWwiIHg9IjEyMyIgeT0iMjEiPlRPPC90ZXh0PgogICAgICAgICA8cmVjdCB4PSIxOTMiIHk9IjMiIHdpZHRoPSI2MCIgaGVpZ2h0PSIzMiIgcng9IjEwIj48L3JlY3Q+CiAgICAgICAgIDxyZWN0IHg9IjE5MSIgeT0iMSIgd2lkdGg9IjYwIiBoZWlnaHQ9IjMyIiBjbGFzcz0idGVybWluYWwiIHJ4PSIxMCI+PC9yZWN0PgogICAgICAgICA8dGV4dCBjbGFzcz0idGVybWluYWwiIHg9IjIwMSIgeT0iMjEiPkZJUlNUPC90ZXh0PgogICAgICAgICA8cmVjdCB4PSIyNzMiIHk9IjMiIHdpZHRoPSIxMjAiIGhlaWdodD0iMzIiIHJ4PSIxMCI+PC9yZWN0PgogICAgICAgICA8cmVjdCB4PSIyNzEiIHk9IjEiIHdpZHRoPSIxMjAiIGhlaWdodD0iMzIiIGNsYXNzPSJ0ZXJtaW5hbCIgcng9IjEwIj48L3JlY3Q+CiAgICAgICAgIDx0ZXh0IGNsYXNzPSJ0ZXJtaW5hbCIgeD0iMjgxIiB5PSIyMSI+T0JTRVJWQVRJT048L3RleHQ+CiAgICAgICAgIDxyZWN0IHg9IjE5MyIgeT0iNDciIHdpZHRoPSI5MiIgaGVpZ2h0PSIzMiIgcng9IjEwIj48L3JlY3Q+CiAgICAgICAgIDxyZWN0IHg9IjE5MSIgeT0iNDUiIHdpZHRoPSI5MiIgaGVpZ2h0PSIzMiIgY2xhc3M9InRlcm1pbmFsIiByeD0iMTAiPjwvcmVjdD4KICAgICAgICAgPHRleHQgY2xhc3M9InRlcm1pbmFsIiB4PSIyMDEiIHk9IjY1Ij5DQUxFTkRBUjwvdGV4dD4KICAgICAgICAgPHJlY3QgeD0iMzI1IiB5PSI3OSIgd2lkdGg9IjU0IiBoZWlnaHQ9IjMyIiByeD0iMTAiPjwvcmVjdD4KICAgICAgICAgPHJlY3QgeD0iMzIzIiB5PSI3NyIgd2lkdGg9IjU0IiBoZWlnaHQ9IjMyIiBjbGFzcz0idGVybWluYWwiIHJ4PSIxMCI+PC9yZWN0PgogICAgICAgICA8dGV4dCBjbGFzcz0idGVybWluYWwiIHg9IjMzMyIgeT0iOTciPlRJTUU8L3RleHQ+CiAgICAgICAgIDxyZWN0IHg9IjM5OSIgeT0iNzkiIHdpZHRoPSI1OCIgaGVpZ2h0PSIzMiIgcng9IjEwIj48L3JlY3Q+CiAgICAgICAgIDxyZWN0IHg9IjM5NyIgeT0iNzciIHdpZHRoPSI1OCIgaGVpZ2h0PSIzMiIgY2xhc3M9InRlcm1pbmFsIiByeD0iMTAiPjwvcmVjdD4KICAgICAgICAgPHRleHQgY2xhc3M9InRlcm1pbmFsIiB4PSI0MDciIHk9Ijk3Ij5aT05FPC90ZXh0PjxhIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bGluazpocmVmPSIjdGltZXpvbmUiIHhsaW5rOnRpdGxlPSJ0aW1lem9uZSI+CiAgICAgICAgICAgIDxyZWN0IHg9IjQ3NyIgeT0iNzkiIHdpZHRoPSI3OCIgaGVpZ2h0PSIzMiI+PC9yZWN0PgogICAgICAgICAgICA8cmVjdCB4PSI0NzUiIHk9Ijc3IiB3aWR0aD0iNzgiIGhlaWdodD0iMzIiIGNsYXNzPSJub250ZXJtaW5hbCI+PC9yZWN0PgogICAgICAgICAgICA8dGV4dCBjbGFzcz0ibm9udGVybWluYWwiIHg9IjQ4NSIgeT0iOTciPnRpbWV6b25lPC90ZXh0PjwvYT48cmVjdCB4PSIzMjUiIHk9IjEyMyIgd2lkdGg9IjU4IiBoZWlnaHQ9IjMyIiByeD0iMTAiPjwvcmVjdD4KICAgICAgICAgPHJlY3QgeD0iMzIzIiB5PSIxMjEiIHdpZHRoPSI1OCIgaGVpZ2h0PSIzMiIgY2xhc3M9InRlcm1pbmFsIiByeD0iMTAiPjwvcmVjdD4KICAgICAgICAgPHRleHQgY2xhc3M9InRlcm1pbmFsIiB4PSIzMzMiIHk9IjE0MSI+V0lUSDwvdGV4dD4KICAgICAgICAgPHJlY3QgeD0iNDAzIiB5PSIxMjMiIHdpZHRoPSI3MiIgaGVpZ2h0PSIzMiIgcng9IjEwIj48L3JlY3Q+CiAgICAgICAgIDxyZWN0IHg9IjQwMSIgeT0iMTIxIiB3aWR0aD0iNzIiIGhlaWdodD0iMzIiIGNsYXNzPSJ0ZXJtaW5hbCIgcng9IjEwIj48L3JlY3Q+CiAgICAgICAgIDx0ZXh0IGNsYXNzPSJ0ZXJtaW5hbCIgeD0iNDExIiB5PSIxNDEiPk9GRlNFVDwvdGV4dD48YSB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeGxpbms6aHJlZj0iI29mZnNldCIgeGxpbms6dGl0bGU9Im9mZnNldCI+CiAgICAgICAgICAgIDxyZWN0IHg9IjQ5NSIgeT0iMTIzIiB3aWR0aD0iNTYiIGhlaWdodD0iMzIiPjwvcmVjdD4KICAgICAgICAgICAgPHJlY3QgeD0iNDkzIiB5PSIxMjEiIHdpZHRoPSI1NiIgaGVpZ2h0PSIzMiIgY2xhc3M9Im5vbnRlcm1pbmFsIj48L3JlY3Q+CiAgICAgICAgICAgIDx0ZXh0IGNsYXNzPSJub250ZXJtaW5hbCIgeD0iNTAzIiB5PSIxNDEiPm9mZnNldDwvdGV4dD48L2E+PHBhdGggY2xhc3M9ImxpbmUiIGQ9Im0xNyAxNyBoMiBtMCAwIGgxMCBtNjQgMCBoMTAgbTAgMCBoMTAgbTM4IDAgaDEwIG0yMCAwIGgxMCBtNjAgMCBoMTAgbTAgMCBoMTAgbTEyMCAwIGgxMCBtMCAwIGgxODIgbS00MjIgMCBoMjAgbTQwMiAwIGgyMCBtLTQ0MiAwIHExMCAwIDEwIDEwIG00MjIgMCBxMCAtMTAgMTAgLTEwIG0tNDMyIDEwIHYyNCBtNDIyIDAgdi0yNCBtLTQyMiAyNCBxMCAxMCAxMCAxMCBtNDAyIDAgcTEwIDAgMTAgLTEwIG0tNDEyIDEwIGgxMCBtOTIgMCBoMTAgbTIwIDAgaDEwIG0wIDAgaDI0MCBtLTI3MCAwIGgyMCBtMjUwIDAgaDIwIG0tMjkwIDAgcTEwIDAgMTAgMTAgbTI3MCAwIHEwIC0xMCAxMCAtMTAgbS0yODAgMTAgdjEyIG0yNzAgMCB2LTEyIG0tMjcwIDEyIHEwIDEwIDEwIDEwIG0yNTAgMCBxMTAgMCAxMCAtMTAgbS0yNjAgMTAgaDEwIG01NCAwIGgxMCBtMCAwIGgxMCBtNTggMCBoMTAgbTAgMCBoMTAgbTc4IDAgaDEwIG0tMjYwIC0xMCB2MjAgbTI3MCAwIHYtMjAgbS0yNzAgMjAgdjI0IG0yNzAgMCB2LTI0IG0tMjcwIDI0IHEwIDEwIDEwIDEwIG0yNTAgMCBxMTAgMCAxMCAtMTAgbS0yNjAgMTAgaDEwIG01OCAwIGgxMCBtMCAwIGgxMCBtNzIgMCBoMTAgbTAgMCBoMTAgbTU2IDAgaDEwIG0wIDAgaDQgbTQzIC0xMjAgaC0zIj48L3BhdGg+CiAgICAgICAgIDxwb2x5Z29uIHBvaW50cz0iNjEzIDE3IDYyMSAxMyA2MjEgMjEiPjwvcG9seWdvbj4KICAgICAgICAgPHBvbHlnb24gcG9pbnRzPSI2MTMgMTcgNjA1IDEzIDYwNSAyMSI+PC9wb2x5Z29uPgo8L3N2Zz4=" width="623" height="157" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sample-units">Sample units<a href="#sample-units" class="hash-link" aria-label="Direct link to Sample units" title="Direct link to Sample units">​</a></h2>
<p>The size of sampled groups are specified with the following syntax:</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY n{units}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Where the unit for sampled groups may be one of the following:</p>
<table><thead><tr><th>unit</th><th>description</th></tr></thead><tbody><tr><td><code>U</code></td><td>microsecond</td></tr><tr><td><code>T</code></td><td>millisecond</td></tr><tr><td><code>s</code></td><td>second</td></tr><tr><td><code>m</code></td><td>minute</td></tr><tr><td><code>h</code></td><td>hour</td></tr><tr><td><code>d</code></td><td>day</td></tr><tr><td><code>M</code></td><td>month</td></tr><tr><td><code>y</code></td><td>year</td></tr></tbody></table>
<p>For example, given a table <code>trades</code>, the following query returns the number of
trades per hour:</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, count()</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">FROM trades</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1h;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="from-to">FROM-TO<a href="#from-to" class="hash-link" aria-label="Direct link to FROM-TO" title="Direct link to FROM-TO">​</a></h2>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Versions prior to QuestDB 8.1.0 do not have access to this extension.</p><p>Please see the new blog for more information.</p></div></div>
<p>When using <code>SAMPLE BY</code> with <code>FILL</code>, you can fill missing rows within the result set with pre-determined values.</p>
<p>However, this method will only fill rows between existing data in the data set and cannot fill rows outside of this range.</p>
<p>To fill outside the bounds of the existing data, you can specify a fill range using a <code>FROM-TO</code> clause. The boundary
timestamps are expected in UTC.</p>
<p>Note that <code>FROM-TO</code> clause can be used only on non-keyed SAMPLE BY queries, i.e. queries that have no grouping columns
other than the timestamp.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="syntax-1">Syntax<a href="#syntax-1" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<p>Specify the shape of the query using <code>FROM</code> and <code>TO</code>:</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockTitle_P25_"><span>Pre-filling trip data</span><a href="https://demo.questdb.io/?query=SELECT%20pickup_datetime%20as%20t%2C%20count()%0AFROM%20trips%0ASAMPLE%20BY%201d%20FROM%20&#x27;2008-12-28&#x27;%20TO%20&#x27;2009-01-05&#x27;%20FILL(NULL)%3B&amp;executeQuery=true" class="demoLink_Z4SZ" target="_blank" rel="noopener noreferrer">Demo this query</a></div><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT pickup_datetime as t, count()</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">FROM trips</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1d FROM &#x27;2008-12-28&#x27; TO &#x27;2009-01-05&#x27; FILL(NULL);</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Since no rows existed before 2009, QuestDB automatically fills in these rows.</p>
<p>This is distinct from the <code>WHERE</code> clause with a simple rule of thumb -
<code>WHERE</code> controls what data flows in, <code>FROM-TO</code> controls what data flows out.</p>
<p>Use both <code>FROM</code> and <code>TO</code> in isolation to pre-fill or post-fill data. If <code>FROM</code> is not provided, then the lower bound is the start of the dataset, aligned to calendar. The opposite is true omitting <code>TO</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="where-clause-optimisation"><code>WHERE</code> clause optimisation<a href="#where-clause-optimisation" class="hash-link" aria-label="Direct link to where-clause-optimisation" title="Direct link to where-clause-optimisation">​</a></h4>
<p>If the user does not provide a <code>WHERE</code> clause, or the <code>WHERE</code> clause does not consider the designated timestamp,
QuestDB will add one for you, matching the <code>FROM-TO</code> interval.</p>
<p>This means that the query will run optimally, and avoid touching data not relevant to the result.</p>
<p>Therefore, we compile the prior query into something similar to this:</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockTitle_P25_"><span>Pre-filling trip data with WHERE optimisation</span><a href="https://demo.questdb.io/?query=SELECT%20pickup_datetime%20as%20t%2C%20count()%0AFROM%20trips%0AWHERE%20pickup_datetime%20%3E%3D%20&#x27;2008-12-28&#x27;%0A%20%20AND%20pickup_datetime%20%3C%20%20&#x27;2009-01-05&#x27;%0ASAMPLE%20BY%201d%20FROM%20&#x27;2008-12-28&#x27;%20TO%20&#x27;2009-01-05&#x27;%20FILL(NULL)%3B&amp;executeQuery=true" class="demoLink_Z4SZ" target="_blank" rel="noopener noreferrer">Demo this query</a></div><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT pickup_datetime as t, count()</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">FROM trips</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">WHERE pickup_datetime &gt;= &#x27;2008-12-28&#x27;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  AND pickup_datetime &lt;  &#x27;2009-01-05&#x27;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1d FROM &#x27;2008-12-28&#x27; TO &#x27;2009-01-05&#x27; FILL(NULL);</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="limitations">Limitations<a href="#limitations" class="hash-link" aria-label="Direct link to Limitations" title="Direct link to Limitations">​</a></h4>
<p>Here are the current limits to this feature.</p>
<ul>
<li>This syntax is not compatible with <code>FILL(PREV)</code> or <code>FILL(LINEAR)</code>.</li>
<li>This syntax is for <code>ALIGN TO CALENDAR</code> only (default alignment).</li>
<li>Does not consider any specified <code>OFFSET</code>.</li>
<li>This syntax is for non-keyed <code>SAMPLE BY</code> i.e. only designated timestamp and aggregate columns.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="fill-options">Fill options<a href="#fill-options" class="hash-link" aria-label="Direct link to Fill options" title="Direct link to Fill options">​</a></h2>
<p>The <code>FILL</code> keyword is optional and expects one or more <code>fillOption</code> strategies
which will be applied to one or more aggregate columns. The following
restrictions apply:</p>
<ul>
<li>Keywords denoting fill strategies may not be combined. Only one option from
<code>NONE</code>, <code>NULL</code>, <code>PREV</code>, <code>LINEAR</code> and constants may be used.</li>
<li><code>LINEAR</code> strategy is not supported for keyed queries, i.e. queries that
contain non-aggregated columns other than the timestamp in the SELECT clause.</li>
<li>The <code>FILL</code> keyword must precede alignment described in the
<a href="#sample-calculation" rel="">sample calculation section</a>, i.e.:</li>
</ul>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, max(price) max</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">FROM prices</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1h FILL(LINEAR)</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">ALIGN TO ...</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<table><thead><tr><th>fillOption</th><th>Description</th></tr></thead><tbody><tr><td><code>NONE</code></td><td>No fill applied. If there is no data, the time sample will be skipped in the results. A table could be missing intervals.</td></tr><tr><td><code>NULL</code></td><td>Fills with <code>NULL</code> values.</td></tr><tr><td><code>PREV</code></td><td>Fills using the previous value.</td></tr><tr><td><code>LINEAR</code></td><td>Fills by linear interpolation of the 2 surrounding points.</td></tr><tr><td><code>x</code></td><td>Fills with a constant value - where <code>x</code> is the desired value, for example <code>FILL(100.05)</code>.</td></tr></tbody></table>
<p>Consider an example table named <code>prices</code> which has no records during the entire
third hour (<code>2021-01-01T03</code>):</p>
<table><thead><tr><th>ts</th><th>price</th></tr></thead><tbody><tr><td>2021-01-01T01:00:00.000000Z</td><td>p1</td></tr><tr><td>2021-01-01T02:00:00.000000Z</td><td>p2</td></tr><tr><td>2021-01-01T04:00:00.000000Z</td><td>p4</td></tr><tr><td>2021-01-01T05:00:00.000000Z</td><td>p5</td></tr></tbody></table>
<p>The following query returns the maximum price per hour. As there are missing
values, an aggregate cannot be calculated:</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, max(price) max</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">FROM prices</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1h;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>A row is missing for the <code>2021-01-01T03:00:00.000000Z</code> sample:</p>
<table><thead><tr><th>ts</th><th>max</th></tr></thead><tbody><tr><td>2021-01-01T01:00:00.000000Z</td><td>max1</td></tr><tr><td>2021-01-01T02:00:00.000000Z</td><td>max2</td></tr><tr><td>2021-01-01T04:00:00.000000Z</td><td>max4</td></tr><tr><td>2021-01-01T05:00:00.000000Z</td><td>max5</td></tr></tbody></table>
<p>A <code>FILL</code> strategy can be employed which fills with the previous value using
<code>PREV</code>:</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, max(price) max</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">FROM prices</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1h FILL(PREV);</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<table><thead><tr><th>ts</th><th>max</th></tr></thead><tbody><tr><td>2021-01-01T01:00:00.000000Z</td><td>max1</td></tr><tr><td>2021-01-01T02:00:00.000000Z</td><td>max2</td></tr><tr><td><strong>2021-01-01T03:00:00.000000Z</strong></td><td><strong>max2</strong></td></tr><tr><td>2021-01-01T04:00:00.000000Z</td><td>max4</td></tr><tr><td>2021-01-01T05:00:00.000000Z</td><td>max5</td></tr></tbody></table>
<p>Linear interpolation is done using the <code>LINEAR</code> fill option:</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, max(price) max</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">FROM prices</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1h FILL(LINEAR);</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<table><thead><tr><th>ts</th><th>max</th></tr></thead><tbody><tr><td>2021-01-01T01:00:00.000000Z</td><td>max1</td></tr><tr><td>2021-01-01T02:00:00.000000Z</td><td>max2</td></tr><tr><td><strong>2021-01-01T03:00:00.000000Z</strong></td><td><strong>(max2+max4)/2</strong></td></tr><tr><td>2021-01-01T04:00:00.000000Z</td><td>max4</td></tr><tr><td>2021-01-01T05:00:00.000000Z</td><td>max5</td></tr></tbody></table>
<p>A constant value can be used as a <code>fillOption</code>:</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, max(price) max</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">FROM prices</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1h FILL(100.5);</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<table><thead><tr><th>ts</th><th>max</th></tr></thead><tbody><tr><td>2021-01-01T01:00:00.000000Z</td><td>max1</td></tr><tr><td>2021-01-01T02:00:00.000000Z</td><td>max2</td></tr><tr><td><strong>2021-01-01T03:00:00.000000Z</strong></td><td><strong>100.5</strong></td></tr><tr><td>2021-01-01T04:00:00.000000Z</td><td>max4</td></tr><tr><td>2021-01-01T05:00:00.000000Z</td><td>max5</td></tr></tbody></table>
<p>Finally, <code>NULL</code> may be used as a <code>fillOption</code>:</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, max(price) max</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">FROM prices</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1h FILL(NULL);</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<table><thead><tr><th>ts</th><th>max</th></tr></thead><tbody><tr><td>2021-01-01T01:00:00.000000Z</td><td>max1</td></tr><tr><td>2021-01-01T02:00:00.000000Z</td><td>max2</td></tr><tr><td><strong>2021-01-01T03:00:00.000000Z</strong></td><td><strong>null</strong></td></tr><tr><td>2021-01-01T04:00:00.000000Z</td><td>max4</td></tr><tr><td>2021-01-01T05:00:00.000000Z</td><td>max5</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="multiple-fill-values">Multiple fill values<a href="#multiple-fill-values" class="hash-link" aria-label="Direct link to Multiple fill values" title="Direct link to Multiple fill values">​</a></h3>
<p><code>FILL()</code> accepts a list of values where each value corresponds to a single
aggregate column in the SELECT clause order:</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT min(price), max(price), avg(price), ts</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">FROM prices</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1h</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">FILL(NULL, 10, PREV);</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the above query <code>min(price)</code> aggregate will get <code>FILL(NULL)</code> strategy
applied, <code>max(price)</code> will get <code>FILL(10)</code>, and <code>avg(price)</code> will get
<code>FILL(PREV)</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sample-calculation">Sample calculation<a href="#sample-calculation" class="hash-link" aria-label="Direct link to Sample calculation" title="Direct link to Sample calculation">​</a></h2>
<p>The default time calculation of sampled groups is an absolute value, in other
words, sampling by one day is a 24 hour range which is not bound to calendar
dates. To align sampled groups to calendar dates, the <code>ALIGN TO</code> keywords can be
used and are described in the <a href="#align-to-calendar" rel="">ALIGN TO CALENDAR</a> section
below.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Since QuestDB v7.4.0, the default behaviour for <code>ALIGN TO</code> has changed. If you do not specify
an explicit alignment, <code>SAMPLE BY</code> expressions will use <code>ALIGN TO CALENDAR</code> behaviour.</p><p>The prior default behaviour can be retained by specifying <code>ALIGN TO FIRST OBSERVATION</code> on a <code>SAMPLE BY</code> query.</p><p>Alternatively, one can set the <code>cairo.sql.sampleby.default.alignment.calendar</code> option to <code>false</code> in <code>server.conf</code>.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="align-to-first-observation">ALIGN TO FIRST OBSERVATION<a href="#align-to-first-observation" class="hash-link" aria-label="Direct link to ALIGN TO FIRST OBSERVATION" title="Direct link to ALIGN TO FIRST OBSERVATION">​</a></h2>
<p>Consider a table <code>sensors</code> with the following data spanning three calendar days:</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">CREATE TABLE sensors (</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  ts TIMESTAMP,</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  val INT</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">) TIMESTAMP(ts) PARTITION BY DAY WAL;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">INSERT INTO sensors (ts, val) VALUES</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  (&#x27;2021-05-31T23:10:00.000000Z&#x27;, 10),</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  (&#x27;2021-06-01T01:10:00.000000Z&#x27;, 80),</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  (&#x27;2021-06-01T07:20:00.000000Z&#x27;, 15),</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  (&#x27;2021-06-01T13:20:00.000000Z&#x27;, 10),</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  (&#x27;2021-06-01T19:20:00.000000Z&#x27;, 40),</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  (&#x27;2021-06-02T01:10:00.000000Z&#x27;, 90),</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  (&#x27;2021-06-02T07:20:00.000000Z&#x27;, 30);</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The following query can be used to sample the table by day.</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, count()</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">FROM sensors</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1d</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">ALIGN TO FIRST OBSERVATION;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This query will return two rows:</p>
<table><thead><tr><th>ts</th><th>count</th></tr></thead><tbody><tr><td>2021-05-31T23:10:00.000000Z</td><td>5</td></tr><tr><td>2021-06-01T23:10:00.000000Z</td><td>2</td></tr></tbody></table>
<p>The timestamp value for the 24 hour groups start at the first-observed
timestamp, and continue in <code>1d</code> intervals.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="align-to-calendar">ALIGN TO CALENDAR<a href="#align-to-calendar" class="hash-link" aria-label="Direct link to ALIGN TO CALENDAR" title="Direct link to ALIGN TO CALENDAR">​</a></h2>
<p>The default behaviour for SAMPLE BY, this option aligns data to calendar dates, with two optional parameters:</p>
<ul>
<li><a href="#time-zone" rel="">TIME ZONE</a></li>
<li><a href="#with-offset" rel="">WITH OFFSET</a></li>
</ul>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, count()</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">FROM sensors</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1d;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>or:</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, count()</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">FROM sensors</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1d</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">ALIGN TO CALENDAR;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Gives the following result:</p>
<table><thead><tr><th>ts</th><th>count</th></tr></thead><tbody><tr><td>2021-05-31T00:00:00.000000Z</td><td>1</td></tr><tr><td>2021-06-01T00:00:00.000000Z</td><td>4</td></tr><tr><td>2021-06-02T00:00:00.000000Z</td><td>2</td></tr></tbody></table>
<p>In this case, the timestamps are floored to the nearest UTC day, and grouped. The counts correspond
to the number of entries occurring within each UTC day.</p>
<p>This is particularly useful for summarising data for charting purposes; see the <a href="https://dashboard.demo.questdb.io/d-solo/fb13b4ab-b1c9-4a54-a920-b60c5fb0363f/public-dashboard-questdb-io-use-cases-crypto?orgId=1&amp;refresh=750ms&amp;panelId=6" rel="">candlestick chart</a> from the example <a href="https://questdb.com/dashboards/crypto/" rel="">crypto dashboard</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="time-zone">TIME ZONE<a href="#time-zone" class="hash-link" aria-label="Direct link to TIME ZONE" title="Direct link to TIME ZONE">​</a></h3>
<p>A time zone may be provided for sampling with calendar alignment. Details on the
options for specifying time zones with available formats are provided in the
guide for
<a rel="" href="/docs/guides/working-with-timestamps-timezones/">working with timestamps and time zones</a>.</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, count()</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">FROM sensors</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1d</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">ALIGN TO CALENDAR TIME ZONE &#x27;Europe/Berlin&#x27;;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this case, the 24 hour samples begin at <code>2021-05-31T22:00:00.000000Z</code>:</p>
<table><thead><tr><th>ts</th><th>count</th></tr></thead><tbody><tr><td>2021-05-31T22:00:00.000000Z</td><td>5</td></tr><tr><td>2021-06-01T22:00:00.000000Z</td><td>2</td></tr></tbody></table>
<p>Additionally, an offset may be applied when aligning sample calculation to
calendar</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, count()</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">FROM sensors</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1d</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">ALIGN TO CALENDAR TIME ZONE &#x27;Europe/Berlin&#x27; WITH OFFSET &#x27;00:45&#x27;;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this case, the 24 hour samples begin at <code>2021-05-31T22:45:00.000000Z</code>:</p>
<table><thead><tr><th>ts</th><th>count</th></tr></thead><tbody><tr><td>2021-05-31T22:45:00.000000Z</td><td>5</td></tr><tr><td>2021-06-01T22:45:00.000000Z</td><td>1</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="local-timezone-output">Local timezone output<a href="#local-timezone-output" class="hash-link" aria-label="Direct link to Local timezone output" title="Direct link to Local timezone output">​</a></h4>
<p>The timestamp values output from <code>SAMPLE BY</code> queries is in UTC. To have UTC
values converted to specific timezones, the
<a rel="" href="/docs/reference/function/date-time/#to_timezone">to_timezone() function</a> should
be used.</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT to_timezone(ts, &#x27;PST&#x27;) ts, count</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">FROM (</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  SELECT ts, count()</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  FROM sensors</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  SAMPLE BY 2h</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  ALIGN TO CALENDAR TIME ZONE &#x27;PST&#x27;</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="time-zone-transitions">Time zone transitions<a href="#time-zone-transitions" class="hash-link" aria-label="Direct link to Time zone transitions" title="Direct link to Time zone transitions">​</a></h4>
<p>Calendar dates may contain historical time zone transitions or may vary in the
total number of hours due to daylight savings time. Considering the 31st October
2021, in the <code>Europe/London</code> calendar day which consists of 25 hours:</p>
<blockquote>
<ul>
<li>Sunday, 31 October 2021, 02:00:00 clocks are turned backward 1 hour to</li>
<li>Sunday, 31 October 2021, 01:00:00 local standard time</li>
</ul>
</blockquote>
<p>When a <code>SAMPLE BY</code> operation crosses time zone transitions in cases such as
this, the first sampled group which spans a transition will include aggregates
by full calendar range. Consider a table <code>sensors</code> with one data point per hour
spanning five calendar hours:</p>
<table><thead><tr><th>ts</th><th>val</th></tr></thead><tbody><tr><td>2021-10-31T00:10:00.000000Z</td><td>10</td></tr><tr><td>2021-10-31T01:10:00.000000Z</td><td>20</td></tr><tr><td>2021-10-31T02:10:00.000000Z</td><td>30</td></tr><tr><td>2021-10-31T03:10:00.000000Z</td><td>40</td></tr><tr><td>2021-10-31T04:10:00.000000Z</td><td>50</td></tr></tbody></table>
<p>The following query will sample by hour with the <code>Europe/London</code> time zone and
align to calendar ranges:</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, count()</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">FROM sensors</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1h</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">ALIGN TO CALENDAR TIME ZONE &#x27;Europe/London&#x27;;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The record count for the hour which encounters a time zone transition will
contain two records for both hours at the time zone transition:</p>
<table><thead><tr><th>ts</th><th>count</th></tr></thead><tbody><tr><td>2021-10-31T00:00:00.000000Z</td><td>2</td></tr><tr><td>2021-10-31T01:00:00.000000Z</td><td>1</td></tr><tr><td>2021-10-31T02:00:00.000000Z</td><td>1</td></tr><tr><td>2021-10-31T03:00:00.000000Z</td><td>1</td></tr></tbody></table>
<p>Similarly, given one data point per hour on this table, running <code>SAMPLE BY 1d</code>
will have a count of <code>25</code> for this day when aligned to calendar time zone
<code>Europe/London</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="with-offset">WITH OFFSET<a href="#with-offset" class="hash-link" aria-label="Direct link to WITH OFFSET" title="Direct link to WITH OFFSET">​</a></h3>
<p>Aligning sampling calculation can be provided an arbitrary offset in the format
<code>&#x27;+/-HH:mm&#x27;</code>, for example:</p>
<ul>
<li><code>&#x27;00:30&#x27;</code> plus thirty minutes</li>
<li><code>&#x27;+00:30&#x27;</code> plus thirty minutes</li>
<li><code>&#x27;-00:15&#x27;</code> minus 15 minutes</li>
</ul>
<p>The query uses the default offset &#x27;00:00&#x27; if the parameter is not set.</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, count()</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">FROM sensors</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1d</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">ALIGN TO CALENDAR WITH OFFSET &#x27;02:00&#x27;;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this case, the 24 hour samples begin at <code>2021-05-31T02:00:00.000000Z</code>:</p>
<table><thead><tr><th>ts</th><th>count</th></tr></thead><tbody><tr><td>2021-05-31T02:00:00.000000Z</td><td>2</td></tr><tr><td>2021-06-01T02:00:00.000000Z</td><td>4</td></tr><tr><td>2021-06-02T02:00:00.000000Z</td><td>1</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="time-zone-with-offset">TIME ZONE WITH OFFSET<a href="#time-zone-with-offset" class="hash-link" aria-label="Direct link to TIME ZONE WITH OFFSET" title="Direct link to TIME ZONE WITH OFFSET">​</a></h3>
<p>The <code>TIME ZONE</code> and <code>WITH OFFSET</code> options can be combined.</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, count()</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">FROM sensors</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1h</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">ALIGN TO CALENDAR TIME ZONE &#x27;Europe/London&#x27; WITH OFFSET &#x27;02:00&#x27;;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The sample then begins from <code>Europe/London</code> at <code>2021-10-31T02:00:00.000000Z</code>:</p>
<table><thead><tr><th>ts</th><th>count</th></tr></thead><tbody><tr><td>2021-10-31T02:00:00.000000Z</td><td>1</td></tr><tr><td>2021-10-31T03:00:00.000000Z</td><td>1</td></tr><tr><td>2021-10-31T04:00:00.000000Z</td><td>3</td></tr><tr><td>2021-10-31T05:00:00.000000Z</td><td>2</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="examples">Examples<a href="#examples" class="hash-link" aria-label="Direct link to Examples" title="Direct link to Examples">​</a></h2>
<p>Assume the following table <code>trades</code>:</p>
<table><thead><tr><th>ts</th><th>quantity</th><th>price</th></tr></thead><tbody><tr><td>2021-05-31T23:45:10.000000Z</td><td>10</td><td>100.05</td></tr><tr><td>2021-06-01T00:01:33.000000Z</td><td>5</td><td>100.05</td></tr><tr><td>2021-06-01T00:15:14.000000Z</td><td>200</td><td>100.15</td></tr><tr><td>2021-06-01T00:30:40.000000Z</td><td>300</td><td>100.15</td></tr><tr><td>2021-06-01T00:45:20.000000Z</td><td>10</td><td>100</td></tr><tr><td>2021-06-01T01:00:50.000000Z</td><td>50</td><td>100.15</td></tr></tbody></table>
<p>This query will return the number of trades per hour:</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockTitle_P25_"><span>Hourly interval</span></div><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, count()</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">FROM trades</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1h;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<table><thead><tr><th>ts</th><th>count</th></tr></thead><tbody><tr><td>2021-05-31T23:45:10.000000Z</td><td>3</td></tr><tr><td>2021-06-01T00:45:10.000000Z</td><td>1</td></tr><tr><td>2021-05-31T23:45:10.000000Z</td><td>1</td></tr><tr><td>2021-06-01T00:45:10.000000Z</td><td>1</td></tr></tbody></table>
<p>The following will return the trade volume in 30 minute intervals</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockTitle_P25_"><span>30 minute interval</span></div><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, sum(quantity*price)</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">FROM trades</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 30m;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<table><thead><tr><th>ts</th><th>sum</th></tr></thead><tbody><tr><td>2021-05-31T23:45:10.000000Z</td><td>1000.5</td></tr><tr><td>2021-06-01T00:15:10.000000Z</td><td>16024</td></tr><tr><td>2021-06-01T00:45:10.000000Z</td><td>8000</td></tr><tr><td>2021-06-01T00:15:10.000000Z</td><td>8012</td></tr><tr><td>2021-06-01T00:45:10.000000Z</td><td>8000</td></tr></tbody></table>
<p>The following will return the average trade notional (where notional is = q *
p) by day:</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockTitle_P25_"><span>Daily interval</span></div><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, avg(quantity*price)</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">FROM trades</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1d;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<table><thead><tr><th>ts</th><th>avg</th></tr></thead><tbody><tr><td>2021-05-31T23:45:10.000000Z</td><td>6839.416666666667</td></tr></tbody></table>
<p>To make this sample align to calendar dates:</p>
<div class="language-questdb-sql codeBlockContainer_APcc theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#262833"><div class="codeBlockTitle_P25_"><span>Calendar alignment</span></div><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-questdb-sql codeBlock_qGQc thin-scrollbar" style="color:#f8f8f2;background-color:#262833"><code class="codeBlockLines_p187"><span class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, avg(quantity*price)</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">FROM trades</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1d</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">ALIGN TO CALENDAR;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<table><thead><tr><th>ts</th><th>avg</th></tr></thead><tbody><tr><td>2021-05-31T00:00:00.000000Z</td><td>1000.5</td></tr><tr><td>2021-06-01T00:00:00.000000Z</td><td>8007.2</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="see-also">See also<a href="#see-also" class="hash-link" aria-label="Direct link to See also" title="Direct link to See also">​</a></h2>
<p>This section includes links to additional information such as tutorials:</p>
<ul>
<li>
<p><a href="https://questdb.com/blog/2022/11/23/sql-extensions-time-series-data-questdb-part-ii/">SQL Extensions for Time-Series Data in QuestDB</a></p>
</li>
<li>
<p><a href="https://questdb.com/blog/three-sql-keywords-for-finding-missing-data/">Three SQL Keywords for Finding Missing Data</a></p>
</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/questdb/documentation/edit/main/documentation/reference/sql/sample-by.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/reference/sql/over/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">OVER</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/reference/sql/where/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">WHERE</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#syntax" class="table-of-contents__link toc-highlight">Syntax</a><ul><li><a href="#sample-by-keywords" class="table-of-contents__link toc-highlight">SAMPLE BY keywords</a></li><li><a href="#from-to-keywords" class="table-of-contents__link toc-highlight">FROM-TO keywords</a></li><li><a href="#fill-keywords" class="table-of-contents__link toc-highlight">FILL keywords</a></li><li><a href="#align-to-keywords" class="table-of-contents__link toc-highlight">ALIGN TO keywords</a></li></ul></li><li><a href="#sample-units" class="table-of-contents__link toc-highlight">Sample units</a></li><li><a href="#from-to" class="table-of-contents__link toc-highlight">FROM-TO</a></li><li><a href="#fill-options" class="table-of-contents__link toc-highlight">Fill options</a><ul><li><a href="#multiple-fill-values" class="table-of-contents__link toc-highlight">Multiple fill values</a></li></ul></li><li><a href="#sample-calculation" class="table-of-contents__link toc-highlight">Sample calculation</a></li><li><a href="#align-to-first-observation" class="table-of-contents__link toc-highlight">ALIGN TO FIRST OBSERVATION</a></li><li><a href="#align-to-calendar" class="table-of-contents__link toc-highlight">ALIGN TO CALENDAR</a><ul><li><a href="#time-zone" class="table-of-contents__link toc-highlight">TIME ZONE</a></li><li><a href="#with-offset" class="table-of-contents__link toc-highlight">WITH OFFSET</a></li><li><a href="#time-zone-with-offset" class="table-of-contents__link toc-highlight">TIME ZONE WITH OFFSET</a></li></ul></li><li><a href="#examples" class="table-of-contents__link toc-highlight">Examples</a></li><li><a href="#see-also" class="table-of-contents__link toc-highlight">See also</a></li></ul></div></div></div></div></main></div></div></div><footer class="root_DvgA"><div class="border_YoPE"><div class="community_bmX2"><p class="communityText_jX3N">Need a hand? Join our vibrant<!-- --> <a href="https://slack.questdb.com/" class="communityLink_V4eJ">public Slack</a> <!-- -->and<!-- --> <a href="https://community.questdb.com" class="communityLink_V4eJ">Discourse forum</a> <!-- -->communities.</p></div><div class="bottom_T_7l"><span>Copyright © 2025 QuestDB</span><div class="rightLinks_p_4C"><a class="link_vSFW" href="/privacy-notice/">Privacy</a><a class="link_vSFW" href="/terms/">Terms</a></div></div></div></footer></div>
<script src="/docs/assets/js/main.8f2b2b8d.js" defer="defer"></script>
<script>"dark"!==localStorage.getItem("theme")&&(window.localStorage.removeItem("theme"),document.documentElement.setAttribute("data-theme","dark"))</script>
</body>
</html>